(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41931,e=>{"use strict";e.i(47167).default.env.NEXT_PUBLIC_API_URL;class t extends Error{status;code;details;constructor(e,t,s,a){super(s),this.status=e,this.code=t,this.details=a,this.name="ApiError"}}async function s(e,a={}){let r=localStorage.getItem("api_key");if(!r)throw new t(401,"UNAUTHORIZED","API key not found. Please set your API key in settings.");let i=await fetch(e,{...a,headers:{"Content-Type":"application/json","x-api-key":r,...a.headers}}),n=await i.json().catch(()=>({}));if(!i.ok)throw new t(i.status,n.code||"UNKNOWN_ERROR",n.error||n.message||`Request failed with status ${i.status}`,n.details);return n}e.s(["ApiError",()=>t,"analyticsApi",0,{getEndpointAnalytics:(e,t)=>{let a=new URLSearchParams;t?.startDate&&a.set("startDate",t.startDate),t?.endDate&&a.set("endDate",t.endDate),t?.granularity&&a.set("granularity",t.granularity),t?.includeDetails&&a.set("includeDetails","true");let r=a.toString();return s(`/api/v1/metered/${e}/analytics${r?`?${r}`:""}`)}},"apiKeysApi",0,{list:()=>s("/api/v1/auth/keys"),create:e=>s("/api/v1/auth/keys",{method:"POST",body:JSON.stringify(e)}),revoke:e=>s(`/api/v1/auth/keys/${e}`,{method:"DELETE"})},"billingApi",0,{getUsage:e=>{let t=new URLSearchParams;e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate),e?.periodType&&t.set("periodType",e.periodType),e?.customerId&&t.set("customerId",e.customerId);let a=t.toString();return s(`/api/v1/billing/usage${a?`?${a}`:""}`)},getReport:e=>{let t=new URLSearchParams;e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate),e?.periodType&&t.set("periodType",e.periodType),e?.endpointIds&&t.set("endpointIds",e.endpointIds.join(","));let a=t.toString();return s(`/api/v1/billing/report${a?`?${a}`:""}`)},getInvoice:e=>{let t=new URLSearchParams;e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate),e?.periodType&&t.set("periodType",e.periodType),e?.customerId&&t.set("customerId",e.customerId);let a=t.toString();return s(`/api/v1/billing/invoice${a?`?${a}`:""}`)}},"cronJobsApi",0,{list:e=>{let t=new URLSearchParams;e?.jobId&&t.set("jobId",e.jobId),e?.limit&&t.set("limit",e.limit.toString()),e?.includeRuns===!1&&t.set("includeRuns","false"),e?.onlyFailing&&t.set("onlyFailing","true");let a=t.toString();return s(`/api/v1/cron-jobs${a?`?${a}`:""}`)},trigger:e=>s("/api/v1/cron-jobs",{method:"POST",body:JSON.stringify({jobId:e})})},"endpointsApi",0,{list:()=>s("/api/v1/endpoints"),get:e=>s(`/api/v1/endpoints/${e}`),create:e=>s("/api/v1/endpoints",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s(`/api/v1/endpoints/${e}`,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>s(`/api/v1/endpoints/${e}`,{method:"DELETE"}),getStats:e=>s(`/api/v1/endpoints/${e}/stats`)},"monitoringApi",0,{getMetrics:e=>{let t=new URLSearchParams;e?.name&&t.set("name",e.name),e?.startTime&&t.set("startTime",e.startTime.toString()),e?.endTime&&t.set("endTime",e.endTime.toString()),e?.tags&&t.set("tags",JSON.stringify(e.tags)),e?.recent&&t.set("recent","true"),e?.limit&&t.set("limit",e.limit.toString());let a=t.toString();return s(`/api/v1/monitoring/metrics${a?`?${a}`:""}`)},getAlerts:e=>{let t=new URLSearchParams;return!1!==e&&t.set("includeRules","true"),s(`/api/v1/monitoring/alerts?${t.toString()}`)},createAlertRule:e=>s("/api/v1/monitoring/alerts",{method:"POST",body:JSON.stringify(e)}),deleteAlertRule:e=>s(`/api/v1/monitoring/alerts/${e}`,{method:"DELETE"})},"onboardingApi",0,{getStatus:()=>s("/api/v1/user/onboarding"),completeStep:e=>s("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({stepId:e})}),dismiss:()=>s("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({dismiss:!0})})},"webhooksApi",0,{list:e=>{let t=new URLSearchParams;e&&t.set("endpointId",e);let a=t.toString();return s(`/api/v1/webhooks${a?`?${a}`:""}`)},create:e=>s("/api/v1/webhooks",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s(`/api/v1/webhooks/${e}`,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>s(`/api/v1/webhooks/${e}`,{method:"DELETE"})}])},61659,e=>{"use strict";let t=(0,e.i(75254).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);e.s(["CreditCard",()=>t],61659)},31026,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(18566),i=e.i(71689),n=e.i(18393),l=e.i(17923),d=e.i(61659),o=e.i(21218),c=e.i(41931);function m(){let e=(0,r.useParams)().id,[m,x]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[h,y]=(0,s.useState)(!0),[u,b]=(0,s.useState)(null);(0,s.useEffect)(()=>{j()},[e]);let j=async()=>{try{y(!0),b(null);let[t,s]=await Promise.all([c.endpointsApi.get(e),c.endpointsApi.getStats(e).catch(()=>null)]);x(t.endpoint),s&&g(s.stats)}catch(e){e instanceof c.ApiError?b(e.message):b("Failed to load endpoint")}finally{y(!1)}};return h?(0,t.jsx)("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-lime-400"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading..."})]})}):u||!m?(0,t.jsx)("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-red-400 mb-4",children:u||"Endpoint not found"}),(0,t.jsx)(a.default,{href:"/dashboard",className:"text-lime-400 hover:text-lime-300",children:"← Back to Dashboard"})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-950 text-white",children:[(0,t.jsx)("nav",{className:"sticky top-0 z-50 border-b border-gray-800 bg-gray-950/80 backdrop-blur-xl",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,t.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,t.jsxs)(a.default,{href:"/dashboard",className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[(0,t.jsx)(i.ArrowLeft,{className:"w-4 h-4"}),"Back to Dashboard"]})})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:m.name}),m.description&&(0,t.jsx)("p",{className:"text-gray-400",children:m.description})]}),p&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(o.Activity,{className:"w-5 h-5 text-lime-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Total Requests"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:p.totalRequests||0})]}),(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(d.CreditCard,{className:"w-5 h-5 text-lime-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Total Payments"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:p.totalPayments||0})]}),(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(l.BarChart3,{className:"w-5 h-5 text-lime-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Total Revenue"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[p.totalRevenue?(parseInt(p.totalRevenue)/1e6).toFixed(2):"0"," USDC"]})]}),(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(n.Server,{className:"w-5 h-5 text-lime-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"Avg Response Time"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[p.averageResponseTime?Math.round(p.averageResponseTime):0,"ms"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Endpoint Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Endpoint ID"}),(0,t.jsx)("p",{className:"text-gray-300 font-mono text-sm mt-1",children:m.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Status"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1 capitalize",children:m.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Upstream URL"}),(0,t.jsx)("p",{className:"text-gray-300 font-mono text-sm mt-1 break-all",children:m.upstreamUrl})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Metered URL"}),(0,t.jsxs)("p",{className:"text-gray-300 font-mono text-sm mt-1",children:[window.location.origin,"/api/v1/metered/",m.id]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Price"}),(0,t.jsxs)("p",{className:"text-gray-300 mt-1",children:[m.price," ",m.tokenSymbol||"USDC"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Network"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1 capitalize",children:m.network})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Recipient Address"}),(0,t.jsx)("p",{className:"text-gray-300 font-mono text-sm mt-1",children:m.recipientAddress})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Created"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",children:new Date(m.createdAt).toLocaleString()})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"How to Use"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"1. Make a request to your metered endpoint:"}),(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("code",{className:"text-lime-400",children:["curl -X POST ",window.location.origin,"/api/v1/metered/",m.id," \\",(0,t.jsx)("br",{}),'  -H "Authorization: Bearer YOUR_API_KEY" \\',(0,t.jsx)("br",{}),'  -H "x-payment: YOUR_PAYMENT_HEADER" \\',(0,t.jsx)("br",{}),"  -d '","{",'"data": "your payload"',"}","'"]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"2. If no payment header is provided, you'll receive a 402 challenge:"}),(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("code",{className:"text-yellow-400",children:["{",(0,t.jsx)("br",{}),'  "error": "Payment required",',(0,t.jsx)("br",{}),'  "challenge": ',"{",(0,t.jsx)("br",{}),'    "scheme": "x402",',(0,t.jsx)("br",{}),'    "amount": "',m.price,'",',(0,t.jsx)("br",{}),'    "recipient": "',m.recipientAddress,'"',(0,t.jsx)("br",{}),"  ","}",(0,t.jsx)("br",{}),"}"]})})]})]})]})]})]})}e.s(["default",()=>m])}]);