(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},65248,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(39312),l=e.i(7233),i=e.i(63209),n=e.i(72520);function d(){let[e,a]=(0,s.useState)([]),[n,d]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),[g,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u()},[]);let u=async()=>{try{d(!0),m(null);let e=localStorage.getItem("api_key");if(!e)return void m("API key required");let t=await fetch("/api/v1/x402/agents",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to load agents")}let s=await t.json();a(s||[])}catch(e){console.error("Load agents error:",e),m(e instanceof Error?e.message:"Failed to load agents")}finally{d(!1)}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"x402 Agents"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage your x402 payment agents and monitor revenue"})]}),(0,t.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:[(0,t.jsx)(l.Plus,{className:"w-4 h-4"}),"Create Agent"]})]}),x&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3",children:[(0,t.jsx)(i.AlertCircle,{className:"w-5 h-5 text-red-400"}),(0,t.jsx)("span",{className:"text-red-400",children:x})]}),n?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-lime-400"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading agents..."})]}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 bg-gray-900 rounded-lg border border-gray-800",children:[(0,t.jsx)(r.Zap,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:"No agents yet"}),(0,t.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:"Create Your First Agent"})]}):(0,t.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,t.jsx)(o,{agent:e,onRefresh:u},e.id))}),g&&(0,t.jsx)(c,{onClose:()=>{h(!1),u()}})]})}function o({agent:e,onRefresh:s}){return(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 hover:border-gray-700 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(r.Zap,{className:"w-5 h-5 text-lime-400"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"active"===e.status?"bg-green-900/30 text-green-400":"bg-gray-800 text-gray-400"}`,children:e.status})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"x402 Identity:"}),(0,t.jsx)("p",{className:"text-gray-300 font-mono text-xs mt-1 break-all",children:e.x402_identity})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Chain:"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1 capitalize",children:e.chain})]})]}),e.stats&&(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 pt-4 border-t border-gray-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"30d Volume"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-white",children:["$",formatAmount(e.stats.volume30d||"0")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"30d Payments"}),(0,t.jsx)("div",{className:"text-lg font-semibold text-white",children:e.stats.payments30d||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Total Fees"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-lime-400",children:["$",formatAmount(e.stats.totalFees||"0")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Revenue Shared"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-cyan-400",children:["$",formatAmount(e.stats.revenueShared||"0")]})]})]})]}),(0,t.jsxs)(a.default,{href:`/dashboard/agents/${e.id}`,className:"ml-4 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:["View Details",(0,t.jsx)(n.ArrowRight,{className:"w-4 h-4"})]})]})})}function c({onClose:e}){let[a,r]=(0,s.useState)(!1),[l,i]=(0,s.useState)({name:"",x402_identity:"",chain:"base",description:""}),n=async t=>{t.preventDefault(),r(!0);try{let t=localStorage.getItem("api_key");if(!t)return void alert("API key required");let s=await fetch("/api/v1/x402/agents",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(l)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to create agent")}e()}catch(e){alert(e instanceof Error?e.message:"Failed to create agent")}finally{r(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 max-w-2xl w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Create x402 Agent"}),(0,t.jsxs)("form",{onSubmit:n,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,t.jsx)("input",{type:"text",required:!0,value:l.name,onChange:e=>i({...l,name:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",placeholder:"My Payment Agent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"x402 Identity *"}),(0,t.jsx)("input",{type:"text",required:!0,value:l.x402_identity,onChange:e=>i({...l,x402_identity:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400 font-mono text-sm",placeholder:"x402://..."}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your x402 agent identity string"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Chain *"}),(0,t.jsxs)("select",{required:!0,value:l.chain,onChange:e=>i({...l,chain:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",children:[(0,t.jsx)("option",{value:"base",children:"Base"}),(0,t.jsx)("option",{value:"solana",children:"Solana"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:l.description,onChange:e=>i({...l,description:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",rows:3,placeholder:"Optional description"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors disabled:opacity-50",children:a?"Creating...":"Create Agent"}),(0,t.jsx)("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})}e.s(["default",()=>d])}]);