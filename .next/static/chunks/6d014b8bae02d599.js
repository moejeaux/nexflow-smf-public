(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41931,e=>{"use strict";e.i(47167).default.env.NEXT_PUBLIC_API_URL;class t extends Error{status;code;details;constructor(e,t,s,a){super(s),this.status=e,this.code=t,this.details=a,this.name="ApiError"}}async function s(e,a={}){let r=localStorage.getItem("api_key");if(!r)throw new t(401,"UNAUTHORIZED","API key not found. Please set your API key in settings.");let i=await fetch(e,{...a,headers:{"Content-Type":"application/json","x-api-key":r,...a.headers}}),n=await i.json().catch(()=>({}));if(!i.ok)throw new t(i.status,n.code||"UNKNOWN_ERROR",n.error||n.message||`Request failed with status ${i.status}`,n.details);return n}e.s(["ApiError",()=>t,"analyticsApi",0,{getEndpointAnalytics:(e,t)=>{let a=new URLSearchParams;t?.startDate&&a.set("startDate",t.startDate),t?.endDate&&a.set("endDate",t.endDate),t?.granularity&&a.set("granularity",t.granularity),t?.includeDetails&&a.set("includeDetails","true");let r=a.toString();return s(`/api/v1/metered/${e}/analytics${r?`?${r}`:""}`)}},"apiKeysApi",0,{list:()=>s("/api/v1/auth/keys"),create:e=>s("/api/v1/auth/keys",{method:"POST",body:JSON.stringify(e)}),revoke:e=>s(`/api/v1/auth/keys/${e}`,{method:"DELETE"})},"billingApi",0,{getUsage:e=>{let t=new URLSearchParams;e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate),e?.periodType&&t.set("periodType",e.periodType),e?.customerId&&t.set("customerId",e.customerId);let a=t.toString();return s(`/api/v1/billing/usage${a?`?${a}`:""}`)},getReport:e=>{let t=new URLSearchParams;e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate),e?.periodType&&t.set("periodType",e.periodType),e?.endpointIds&&t.set("endpointIds",e.endpointIds.join(","));let a=t.toString();return s(`/api/v1/billing/report${a?`?${a}`:""}`)},getInvoice:e=>{let t=new URLSearchParams;e?.startDate&&t.set("startDate",e.startDate),e?.endDate&&t.set("endDate",e.endDate),e?.periodType&&t.set("periodType",e.periodType),e?.customerId&&t.set("customerId",e.customerId);let a=t.toString();return s(`/api/v1/billing/invoice${a?`?${a}`:""}`)}},"cronJobsApi",0,{list:e=>{let t=new URLSearchParams;e?.jobId&&t.set("jobId",e.jobId),e?.limit&&t.set("limit",e.limit.toString()),e?.includeRuns===!1&&t.set("includeRuns","false"),e?.onlyFailing&&t.set("onlyFailing","true");let a=t.toString();return s(`/api/v1/cron-jobs${a?`?${a}`:""}`)},trigger:e=>s("/api/v1/cron-jobs",{method:"POST",body:JSON.stringify({jobId:e})})},"endpointsApi",0,{list:()=>s("/api/v1/endpoints"),get:e=>s(`/api/v1/endpoints/${e}`),create:e=>s("/api/v1/endpoints",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s(`/api/v1/endpoints/${e}`,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>s(`/api/v1/endpoints/${e}`,{method:"DELETE"}),getStats:e=>s(`/api/v1/endpoints/${e}/stats`)},"monitoringApi",0,{getMetrics:e=>{let t=new URLSearchParams;e?.name&&t.set("name",e.name),e?.startTime&&t.set("startTime",e.startTime.toString()),e?.endTime&&t.set("endTime",e.endTime.toString()),e?.tags&&t.set("tags",JSON.stringify(e.tags)),e?.recent&&t.set("recent","true"),e?.limit&&t.set("limit",e.limit.toString());let a=t.toString();return s(`/api/v1/monitoring/metrics${a?`?${a}`:""}`)},getAlerts:e=>{let t=new URLSearchParams;return!1!==e&&t.set("includeRules","true"),s(`/api/v1/monitoring/alerts?${t.toString()}`)},createAlertRule:e=>s("/api/v1/monitoring/alerts",{method:"POST",body:JSON.stringify(e)}),deleteAlertRule:e=>s(`/api/v1/monitoring/alerts/${e}`,{method:"DELETE"})},"onboardingApi",0,{getStatus:()=>s("/api/v1/user/onboarding"),completeStep:e=>s("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({stepId:e})}),dismiss:()=>s("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({dismiss:!0})})},"webhooksApi",0,{list:e=>{let t=new URLSearchParams;e&&t.set("endpointId",e);let a=t.toString();return s(`/api/v1/webhooks${a?`?${a}`:""}`)},create:e=>s("/api/v1/webhooks",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>s(`/api/v1/webhooks/${e}`,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>s(`/api/v1/webhooks/${e}`,{method:"DELETE"})}])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},43168,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(41931),r=e.i(34161),i=e.i(31278),n=e.i(63209),l=e.i(7233);function o(){let[e,o]=(0,s.useState)([]),[m,u]=(0,s.useState)(!0),[g,p]=(0,s.useState)(null),[x,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h()},[]);let h=async()=>{try{u(!0),p(null);let e=await a.apiKeysApi.list();o(e.apiKeys||[])}catch(e){b(e)}finally{u(!1)}},b=e=>{e instanceof a.ApiError?p(401===e.status?"Invalid API key. Please check your API key and try again.":`${e.message} (Status: ${e.status}, Code: ${e.code})`):e instanceof Error?p(`Failed to load data: ${e.message}`):p("Failed to load data: Unknown error")};return m?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i.Loader2,{className:"w-8 h-8 animate-spin mx-auto text-lime-400"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading API keys..."})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"API Keys"}),(0,t.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:[(0,t.jsx)(l.Plus,{className:"w-4 h-4"}),"Create API Key"]})]}),g&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3",children:[(0,t.jsx)(n.AlertCircle,{className:"w-5 h-5 text-red-400"}),(0,t.jsx)("span",{className:"text-red-400",children:g})]}),x&&(0,t.jsx)(c,{onClose:()=>{y(!1),h()}}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 bg-gray-900 rounded-lg border border-gray-800",children:[(0,t.jsx)(r.Key,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:"No API keys yet"}),(0,t.jsx)("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:"Create Your First API Key"})]}):(0,t.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,t.jsx)(d,{apiKey:e,onRefresh:h},e.id))})]})}function d({apiKey:e,onRefresh:s}){let r=async()=>{if(confirm("Are you sure you want to revoke this API key?"))try{await a.apiKeysApi.revoke(e.id),s()}catch(e){alert(e instanceof a.ApiError?e.message:"Failed to revoke API key")}};return(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"admin"===e.role?"bg-purple-900/30 text-purple-400":"user"===e.role?"bg-blue-900/30 text-blue-400":"bg-gray-800 text-gray-400"}`,children:e.role}),e.revokedAt&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded bg-red-900/30 text-red-400",children:"Revoked"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Rate Limit:"}),(0,t.jsxs)("p",{className:"text-gray-300 mt-1",children:[e.rateLimit," requests/hour"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Last Used:"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",children:e.lastUsedAt?new Date(e.lastUsedAt).toLocaleDateString():"Never"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Created:"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",children:new Date(e.createdAt).toLocaleDateString()})]}),e.expiresAt&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Expires:"}),(0,t.jsx)("p",{className:"text-gray-300 mt-1",children:new Date(e.expiresAt).toLocaleDateString()})]})]})]}),!e.revokedAt&&(0,t.jsx)("button",{onClick:r,className:"px-3 py-1.5 text-sm bg-red-900/20 text-red-400 rounded hover:bg-red-900/30 transition-colors",children:"Revoke"})]})})}function c({onClose:e}){let[r,i]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),[o,d]=(0,s.useState)({name:"",role:"user",rateLimit:1e3}),c=async e=>{e.preventDefault(),i(!0);try{let e=await a.apiKeysApi.create(o);l(e.token)}catch(e){alert(e instanceof a.ApiError?e.message:"Failed to create API key")}finally{i(!1)}};return n?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 max-w-md w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"API Key Created!"}),(0,t.jsx)("p",{className:"text-yellow-400 mb-4 text-sm",children:"⚠️ Save this key securely. It will not be shown again."}),(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:(0,t.jsx)("code",{className:"text-lime-400 break-all",children:n})}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(n),alert("Copied to clipboard!")},className:"w-full px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors mb-2",children:"Copy to Clipboard"}),(0,t.jsx)("button",{onClick:e,className:"w-full px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:"Done"})]})}):(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 max-w-md w-full mx-4",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Create API Key"}),(0,t.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,t.jsx)("input",{type:"text",required:!0,value:o.name,onChange:e=>d({...o,name:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),(0,t.jsxs)("select",{value:o.role,onChange:e=>d({...o,role:e.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",children:[(0,t.jsx)("option",{value:"read-only",children:"Read Only"}),(0,t.jsx)("option",{value:"user",children:"User"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rate Limit (requests/hour)"}),(0,t.jsx)("input",{type:"number",value:o.rateLimit,onChange:e=>d({...o,rateLimit:parseInt(e.target.value)}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors disabled:opacity-50",children:r?"Creating...":"Create Key"}),(0,t.jsx)("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})}e.s(["default",()=>o])}]);