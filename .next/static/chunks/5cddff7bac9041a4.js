(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var s=e.i(71645);let t=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:n,...x},m)=>(0,s.createElement)("svg",{ref:m,...a,width:l,height:l,stroke:e,strokeWidth:i?24*Number(r)/Number(l):r,className:t("lucide",c),...x},[...n.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]])),r=(e,a)=>{let r=(0,s.forwardRef)(({className:r,...i},c)=>(0,s.createElement)(l,{ref:c,iconNode:a,className:t(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...i}));return r.displayName=`${e}`,r};e.s(["default",()=>r],75254)},39312,e=>{"use strict";let s=(0,e.i(75254).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>s],39312)},21218,e=>{"use strict";let s=(0,e.i(75254).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},73884,e=>{"use strict";let s=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884)},26661,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(21218),l=e.i(69638),r=e.i(73884),i=e.i(3116),c=e.i(25652),d=e.i(39312);function n(){let[e,n]=(0,t.useState)(null),[x,m]=(0,t.useState)(!0),[o,h]=(0,t.useState)(null),[p,j]=(0,t.useState)(24),g=async()=>{try{m(!0),h(null);let e=await fetch(`/api/x402/metrics?hours=${p}`);if(!e.ok)throw Error("Failed to fetch metrics");let s=await e.json();n(s)}catch(e){h(e instanceof Error?e.message:"Unknown error")}finally{m(!1)}};return((0,t.useEffect)(()=>{g();let e=setInterval(g,3e4);return()=>clearInterval(e)},[p]),x&&!e)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-lime-400"}),(0,s.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading metrics..."})]})})}):o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-red-400 mb-2",children:"Error"}),(0,s.jsx)("p",{className:"text-gray-300",children:o}),(0,s.jsx)("button",{onClick:g,className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Retry"})]})})}):e?(0,s.jsx)("div",{className:"min-h-screen bg-gray-950 text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"x402 Health & Metrics"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Real-time system health and performance metrics"}),(0,s.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[(0,s.jsxs)("select",{value:p,onChange:e=>j(Number(e.target.value)),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 text-sm",children:[(0,s.jsx)("option",{value:1,children:"Last 1 hour"}),(0,s.jsx)("option",{value:6,children:"Last 6 hours"}),(0,s.jsx)("option",{value:24,children:"Last 24 hours"}),(0,s.jsx)("option",{value:168,children:"Last 7 days"})]}),(0,s.jsx)("button",{onClick:g,className:"px-4 py-2 bg-lime-600 hover:bg-lime-700 rounded-lg transition-colors text-sm",children:"Refresh"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(e.timestamp).toLocaleTimeString()]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"CDP Facilitator"}),e.health.cdp.healthy?(0,s.jsx)(l.CheckCircle,{className:"w-6 h-6 text-green-400"}):(0,s.jsx)(r.XCircle,{className:"w-6 h-6 text-red-400"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,s.jsx)("span",{className:e.health.cdp.healthy?"text-green-400":"text-red-400",children:e.health.cdp.healthy?"Healthy":"Unhealthy"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Verify Mode:"}),(0,s.jsx)("span",{className:"text-lime-400 font-mono text-sm",children:e.health.verifyMode})]}),e.health.cdp.error&&(0,s.jsx)("div",{className:"text-sm text-red-400 mt-2",children:e.health.cdp.error})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"System Status"}),(0,s.jsx)(a.Activity,{className:"w-6 h-6 text-lime-400"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Total Requests:"}),(0,s.jsx)("span",{className:"text-white font-semibold",children:e.metrics.totalRequests.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Success Rate:"}),(0,s.jsxs)("span",{className:`font-semibold ${e.metrics.successRate>=95?"text-green-400":e.metrics.successRate>=80?"text-yellow-400":"text-red-400"}`,children:[e.metrics.successRate.toFixed(1),"%"]})]})]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(l.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,s.jsx)("h3",{className:"text-sm text-gray-400",children:"Successful"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-green-400",children:e.metrics.successfulRequests.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(r.XCircle,{className:"w-5 h-5 text-red-400"}),(0,s.jsx)("h3",{className:"text-sm text-gray-400",children:"Failed"})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-red-400",children:e.metrics.failedRequests.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(i.Clock,{className:"w-5 h-5 text-blue-400"}),(0,s.jsx)("h3",{className:"text-sm text-gray-400",children:"Avg Response"})]}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-blue-400",children:[e.metrics.avgResponseTime,"ms"]})]}),(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)(c.TrendingUp,{className:"w-5 h-5 text-purple-400"}),(0,s.jsx)("h3",{className:"text-sm text-gray-400",children:"P95 Response"})]}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-purple-400",children:[e.metrics.p95ResponseTime,"ms"]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"By Facilitator"}),(0,s.jsxs)("div",{className:"space-y-3",children:[Object.entries(e.breakdown.byFacilitator).map(([e,t])=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Zap,{className:"w-4 h-4 text-lime-400"}),(0,s.jsx)("span",{className:"font-mono text-sm",children:e})]}),(0,s.jsx)("span",{className:"text-white font-semibold",children:t.toLocaleString()})]},e)),0===Object.keys(e.breakdown.byFacilitator).length&&(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"No data available"})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Error Breakdown"}),(0,s.jsxs)("div",{className:"space-y-3",children:[Object.entries(e.breakdown.byError).sort(([,e],[,s])=>s-e).slice(0,10).map(([e,t])=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-mono text-sm text-red-400",children:e}),(0,s.jsx)("span",{className:"text-white font-semibold",children:t.toLocaleString()})]},e)),0===Object.keys(e.breakdown.byError).length&&(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"No errors in this time window"})]})]})]}),e.endpoint&&(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Endpoint Info"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"ID:"}),(0,s.jsx)("p",{className:"font-mono text-sm text-white",children:e.endpoint.id})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Name:"}),(0,s.jsx)("p",{className:"text-white",children:e.endpoint.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Status:"}),(0,s.jsx)("p",{className:`font-semibold ${"active"===e.endpoint.status?"text-green-400":"text-yellow-400"}`,children:e.endpoint.status})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"Network:"}),(0,s.jsx)("p",{className:"text-white",children:e.endpoint.network})]})]})]})]})}):null}e.s(["default",()=>n])}]);