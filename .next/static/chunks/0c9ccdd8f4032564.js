(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let s=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>s],25652)},16715,e=>{"use strict";let s=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],16715)},15057,e=>{"use strict";let s=(0,e.i(75254).default)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["ArrowUpRight",()=>s],15057)},29774,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(21218),l=e.i(25652),r=e.i(87316),i=e.i(39312),n=e.i(63209),d=e.i(15057),c=e.i(16715);function o(){let[e,o]=(0,t.useState)(null),[m,x]=(0,t.useState)(!0),[h,g]=(0,t.useState)(null),[p,u]=(0,t.useState)(!1),y=async(e=!1)=>{try{e?u(!0):x(!0),g(null);let s=localStorage.getItem("api_key");if(!s)throw Error("API key not found");let t=await fetch("/api/v1/usage/summary",{headers:{"x-api-key":s}});if(t.ok||(t=await fetch("/api/v1/me/usage-summary",{headers:{"x-api-key":s}})),!t.ok){let e=await t.json();throw Error(e.error||"Failed to load usage data")}let a=await t.json();o(a)}catch(e){g(e.message||"Failed to load usage data")}finally{x(!1),u(!1)}};if((0,t.useEffect)(()=>{y();let e=setInterval(()=>y(!0),3e4);return()=>clearInterval(e)},[]),m)return(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-lime-400"}),(0,s.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading usage data..."})]})});if(h)return(0,s.jsxs)("div",{className:"p-6 bg-red-900/20 border border-red-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(n.AlertCircle,{className:"w-5 h-5 text-red-400"}),(0,s.jsx)("span",{className:"text-red-400",children:h})]}),(0,s.jsx)("button",{onClick:()=>y(),className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Retry"})]});if(!e)return null;let b=e.today.used/e.plan.dailyLimit*100,j=e.month.used/e.plan.monthlyLimit*100,f=e=>e>=90?"bg-red-500":e>=70?"bg-amber-500":"bg-lime-400";return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Usage"}),(0,s.jsx)("p",{className:"text-gray-400 mt-1",children:"Monitor your API usage and quota"})]}),(0,s.jsxs)("button",{onClick:()=>y(!0),disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[(0,s.jsx)(c.RefreshCw,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh"]})]}),(0,s.jsx)("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-900 via-gray-900 to-gray-800 rounded-xl border border-gray-800",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-xl bg-lime-400/10 flex items-center justify-center",children:(0,s.jsx)(i.Zap,{className:"w-6 h-6 text-lime-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Current Plan"}),(0,s.jsx)("span",{className:`px-3 py-1 text-sm font-medium rounded-full capitalize ${(e=>{switch(e.toLowerCase()){case"free":default:return"bg-gray-700 text-gray-300";case"starter":return"bg-blue-600 text-white";case"pro":return"bg-purple-600 text-white";case"enterprise":return"bg-amber-600 text-white"}})(e.plan.name)}`,children:e.plan.name})]}),(0,s.jsxs)("p",{className:"text-gray-400 mt-1",children:[e.plan.dailyLimit.toLocaleString()," calls/day • ",e.plan.monthlyLimit.toLocaleString()," calls/month"]})]})]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-lime-400 hover:bg-lime-300 text-gray-900 font-medium rounded-lg transition-colors",children:["Upgrade Plan",(0,s.jsx)(d.ArrowUpRight,{className:"w-4 h-4"})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"p-6 bg-gray-900 rounded-xl border border-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:(0,s.jsx)(a.Activity,{className:"w-5 h-5 text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Today"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Daily API calls"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-3xl font-bold text-white",children:e.today.used.toLocaleString()}),(0,s.jsxs)("span",{className:"text-gray-400",children:["/ ",e.plan.dailyLimit.toLocaleString()]})]}),(0,s.jsx)("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full transition-all duration-500 ${f(b)}`,style:{width:`${Math.min(b,100)}%`}})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Remaining"}),(0,s.jsxs)("span",{className:`font-medium ${0===e.today.remaining?"text-red-400":"text-lime-400"}`,children:[e.today.remaining.toLocaleString()," calls"]})]})]}),(0,s.jsxs)("div",{className:"p-6 bg-gray-900 rounded-xl border border-gray-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:(0,s.jsx)(r.Calendar,{className:"w-5 h-5 text-purple-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"This Month"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Monthly API calls"})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-3xl font-bold text-white",children:e.month.used.toLocaleString()}),(0,s.jsxs)("span",{className:"text-gray-400",children:["/ ",e.plan.monthlyLimit.toLocaleString()]})]}),(0,s.jsx)("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full transition-all duration-500 ${f(j)}`,style:{width:`${Math.min(j,100)}%`}})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Remaining"}),(0,s.jsxs)("span",{className:`font-medium ${0===e.month.remaining?"text-red-400":"text-lime-400"}`,children:[e.month.remaining.toLocaleString()," calls"]})]})]})]}),"free"===e.plan.name.toLowerCase()&&(0,s.jsx)("div",{className:"p-4 bg-blue-900/20 border border-blue-800/50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(l.TrendingUp,{className:"w-5 h-5 text-blue-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-300 font-medium",children:"Free Tier Limits"}),(0,s.jsxs)("p",{className:"text-blue-400/80 text-sm mt-1",children:["Your free tier includes ",e.plan.dailyLimit.toLocaleString()," API calls per day and ",e.plan.monthlyLimit.toLocaleString()," calls per month. Upgrade to a paid plan for higher limits and priority support."]}),(0,s.jsx)("button",{className:"mt-3 text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"View upgrade options →"})]})]})}),(b>=80||j>=80)&&(0,s.jsx)("div",{className:"mt-6 p-4 bg-amber-900/20 border border-amber-800/50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(n.AlertCircle,{className:"w-5 h-5 text-amber-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-amber-300 font-medium",children:"Approaching Quota Limit"}),(0,s.jsxs)("p",{className:"text-amber-400/80 text-sm mt-1",children:[b>=80&&"You have used over 80% of your daily quota. ",j>=80&&"You have used over 80% of your monthly quota. ","Consider upgrading your plan to avoid service interruptions."]})]})]})}),e.topEndpoints&&e.topEndpoints.length>0&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Top Endpoints (This Month)"}),(0,s.jsx)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,s.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Endpoint"}),(0,s.jsx)("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-400",children:"Calls"})]})}),(0,s.jsx)("tbody",{children:e.topEndpoints.map((t,a)=>(0,s.jsxs)("tr",{className:a!==e.topEndpoints.length-1?"border-b border-gray-800/50":"",children:[(0,s.jsxs)("td",{className:"px-4 py-3",children:[(0,s.jsx)("span",{className:"text-white",children:t.name}),(0,s.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:t.endpointId})]}),(0,s.jsx)("td",{className:"px-4 py-3 text-right font-mono text-lime-400",children:t.calls.toLocaleString()})]},t.endpointId))})]})})]}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-800/50",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Daily Usage"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-white",children:[b.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-800/50",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Monthly Usage"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-white",children:[j.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-800/50",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Account Status"}),(0,s.jsx)("p",{className:"text-lg font-medium text-lime-400 capitalize",children:e.account?.status||"active"})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-800/50",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Plan Type"}),(0,s.jsx)("p",{className:"text-lg font-medium text-white capitalize",children:e.plan.name})]})]})]})}e.s(["default",()=>o])}]);