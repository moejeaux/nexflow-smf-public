module.exports=[24669,a=>{"use strict";let b=(0,a.i(70106).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],24669)},91938,a=>{"use strict";class b extends Error{status;code;details;constructor(a,b,c,d){super(c),this.status=a,this.code=b,this.details=d,this.name="ApiError"}}async function c(a,d={}){throw new b(401,"UNAUTHORIZED","API key not found. Please set your API key in settings.")}a.s(["ApiError",()=>b,"analyticsApi",0,{getEndpointAnalytics:(a,b)=>{let d=new URLSearchParams;b?.startDate&&d.set("startDate",b.startDate),b?.endDate&&d.set("endDate",b.endDate),b?.granularity&&d.set("granularity",b.granularity),b?.includeDetails&&d.set("includeDetails","true");let e=d.toString();return c(`/api/v1/metered/${a}/analytics${e?`?${e}`:""}`)}},"apiKeysApi",0,{list:()=>c("/api/v1/auth/keys"),create:a=>c("/api/v1/auth/keys",{method:"POST",body:JSON.stringify(a)}),revoke:a=>c(`/api/v1/auth/keys/${a}`,{method:"DELETE"})},"billingApi",0,{getUsage:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.customerId&&b.set("customerId",a.customerId);let d=b.toString();return c(`/api/v1/billing/usage${d?`?${d}`:""}`)},getReport:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.endpointIds&&b.set("endpointIds",a.endpointIds.join(","));let d=b.toString();return c(`/api/v1/billing/report${d?`?${d}`:""}`)},getInvoice:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.customerId&&b.set("customerId",a.customerId);let d=b.toString();return c(`/api/v1/billing/invoice${d?`?${d}`:""}`)}},"cronJobsApi",0,{list:a=>{let b=new URLSearchParams;a?.jobId&&b.set("jobId",a.jobId),a?.limit&&b.set("limit",a.limit.toString()),a?.includeRuns===!1&&b.set("includeRuns","false"),a?.onlyFailing&&b.set("onlyFailing","true");let d=b.toString();return c(`/api/v1/cron-jobs${d?`?${d}`:""}`)},trigger:a=>c("/api/v1/cron-jobs",{method:"POST",body:JSON.stringify({jobId:a})})},"endpointsApi",0,{list:()=>c("/api/v1/endpoints"),get:a=>c(`/api/v1/endpoints/${a}`),create:a=>c("/api/v1/endpoints",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>c(`/api/v1/endpoints/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:a=>c(`/api/v1/endpoints/${a}`,{method:"DELETE"}),getStats:a=>c(`/api/v1/endpoints/${a}/stats`)},"monitoringApi",0,{getMetrics:a=>{let b=new URLSearchParams;a?.name&&b.set("name",a.name),a?.startTime&&b.set("startTime",a.startTime.toString()),a?.endTime&&b.set("endTime",a.endTime.toString()),a?.tags&&b.set("tags",JSON.stringify(a.tags)),a?.recent&&b.set("recent","true"),a?.limit&&b.set("limit",a.limit.toString());let d=b.toString();return c(`/api/v1/monitoring/metrics${d?`?${d}`:""}`)},getAlerts:a=>{let b=new URLSearchParams;return!1!==a&&b.set("includeRules","true"),c(`/api/v1/monitoring/alerts?${b.toString()}`)},createAlertRule:a=>c("/api/v1/monitoring/alerts",{method:"POST",body:JSON.stringify(a)}),deleteAlertRule:a=>c(`/api/v1/monitoring/alerts/${a}`,{method:"DELETE"})},"onboardingApi",0,{getStatus:()=>c("/api/v1/user/onboarding"),completeStep:a=>c("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({stepId:a})}),dismiss:()=>c("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({dismiss:!0})})},"webhooksApi",0,{list:a=>{let b=new URLSearchParams;a&&b.set("endpointId",a);let d=b.toString();return c(`/api/v1/webhooks${d?`?${d}`:""}`)},create:a=>c("/api/v1/webhooks",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>c(`/api/v1/webhooks/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:a=>c(`/api/v1/webhooks/${a}`,{method:"DELETE"})}])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},53832,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91938),e=a.i(39761),f=a.i(96221),g=a.i(92e3),h=a.i(24669),i=a.i(41710),j=a.i(16201),k=a.i(90166);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)("day"),[y,z]=(0,c.useState)(7);(0,c.useEffect)(()=>{A()},[]),(0,c.useEffect)(()=>{m&&B()},[m,w,y]);let A=async()=>{try{r(!0),v(null);let a=await d.endpointsApi.list();l(a.endpoints||[]),a.endpoints&&a.endpoints.length>0&&!m&&n(a.endpoints[0].id)}catch(a){C(a)}finally{r(!1)}},B=async()=>{if(m)try{t(!0),v(null);let a=new Date,b=new Date;b.setDate(b.getDate()-y);let c=await d.analyticsApi.getEndpointAnalytics(m,{startDate:b.toISOString(),endDate:a.toISOString(),granularity:w,includeDetails:!0});p(c)}catch(a){C(a)}finally{t(!1)}},C=a=>{a instanceof d.ApiError?v(401===a.status?"Invalid API key. Please check your API key and try again.":403===a.status?"Access denied. Your API key may not have the required permissions.":`${a.message} (Status: ${a.status}, Code: ${a.code})`):a instanceof Error?a.message.includes("Failed to fetch")||a.message.includes("NetworkError")?v("Cannot connect to server. Make sure the server is running on http://localhost:3001"):v(`Failed to load data: ${a.message}`):v("Failed to load data: Unknown error")},D=a=>new Intl.NumberFormat().format(a),E=a=>{let b=parseFloat(a)/1e6;return`$${b.toFixed(6)}`},F=a=>a<1e3?`${Math.round(a)}ms`:`${(a/1e3).toFixed(2)}s`;return q?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.Loader2,{className:"w-8 h-8 animate-spin mx-auto text-lime-400"}),(0,b.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading endpoints..."})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Analytics"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("select",{value:y,onChange:a=>z(parseInt(a.target.value)),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",children:[(0,b.jsx)("option",{value:1,children:"Last 24 hours"}),(0,b.jsx)("option",{value:7,children:"Last 7 days"}),(0,b.jsx)("option",{value:30,children:"Last 30 days"}),(0,b.jsx)("option",{value:90,children:"Last 90 days"})]}),(0,b.jsxs)("select",{value:w,onChange:a=>x(a.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",children:[(0,b.jsx)("option",{value:"hour",children:"Hourly"}),(0,b.jsx)("option",{value:"day",children:"Daily"}),(0,b.jsx)("option",{value:"week",children:"Weekly"})]})]})]}),u&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3",children:[(0,b.jsx)(g.AlertCircle,{className:"w-5 h-5 text-red-400"}),(0,b.jsx)("span",{className:"text-red-400",children:u})]}),a.length>0&&(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Endpoint"}),(0,b.jsx)("select",{value:m||"",onChange:a=>n(a.target.value),className:"w-full md:w-96 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",children:a.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.id,")"]},a.id))})]}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-gray-900 rounded-lg border border-gray-800",children:[(0,b.jsx)(e.BarChart3,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"No endpoints available"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Create an endpoint to see analytics"})]}):s?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.Loader2,{className:"w-8 h-8 animate-spin mx-auto text-lime-400"}),(0,b.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading analytics..."})]}):o?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(h.TrendingUp,{className:"w-5 h-5 text-lime-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Requests"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:D(o.summary?.totalRequests||0)})]}),(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(j.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Payments"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:D(o.summary?.totalPayments||0)})]}),(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(k.DollarSign,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Revenue"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:E(o.summary?.totalRevenue||"0")})]}),(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(i.Clock,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Avg Latency"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:F(o.summary?.averageResponseTime||0)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Success Rate"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"h-4 bg-gray-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-green-500 transition-all",style:{width:`${100*(o.summary?.successRate||0)}%`}})})}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-green-400",children:[(100*(o.summary?.successRate||0)).toFixed(1),"%"]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Error Rate"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("div",{className:"h-4 bg-gray-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-red-500 transition-all",style:{width:`${100*(o.summary?.errorRate||0)}%`}})})}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-red-400",children:[(100*(o.summary?.errorRate||0)).toFixed(1),"%"]})]})]})]}),o.performance&&(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Performance Metrics"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"P50 Latency"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:F(o.performance.latency?.p50||0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"P95 Latency"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:F(o.performance.latency?.p95||0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"P99 Latency"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:F(o.performance.latency?.p99||0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Average"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:F(o.performance.latency?.average||0)})]})]})]}),o.breakdowns&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"By Status"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(o.breakdowns.byStatus||{}).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400 capitalize",children:a}),(0,b.jsx)("span",{className:"font-semibold",children:D(c)})]},a))})]}),(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"By Facilitator"}),(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(o.breakdowns.byFacilitator||{}).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:a}),(0,b.jsx)("span",{className:"font-semibold",children:D(c)})]},a))})]})]}),o.timeSeries&&Object.keys(o.timeSeries).length>0&&(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Time Series Data"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,b.jsx)("th",{className:"text-left py-2 text-gray-400",children:"Time"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Requests"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Payments"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Revenue"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Errors"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Avg Latency"})]})}),(0,b.jsx)("tbody",{children:Object.entries(o.timeSeries).sort(([a],[b])=>a.localeCompare(b)).map(([a,c])=>(0,b.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,b.jsx)("td",{className:"py-2 text-gray-300",children:new Date(a).toLocaleString()}),(0,b.jsx)("td",{className:"py-2 text-right",children:D(c.requests||0)}),(0,b.jsx)("td",{className:"py-2 text-right",children:D(c.payments||0)}),(0,b.jsx)("td",{className:"py-2 text-right",children:E(c.revenue||"0")}),(0,b.jsx)("td",{className:"py-2 text-right text-red-400",children:D(c.errors||0)}),(0,b.jsx)("td",{className:"py-2 text-right",children:F(c.averageLatency||0)})]},a))})]})})]})]}):(0,b.jsxs)("div",{className:"text-center py-12 bg-gray-900 rounded-lg border border-gray-800",children:[(0,b.jsx)(e.BarChart3,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Select an endpoint to view analytics"})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_9036adb6._.js.map