module.exports=[91938,a=>{"use strict";class b extends Error{status;code;details;constructor(a,b,c,d){super(c),this.status=a,this.code=b,this.details=d,this.name="ApiError"}}async function c(a,d={}){throw new b(401,"UNAUTHORIZED","API key not found. Please set your API key in settings.")}a.s(["ApiError",()=>b,"analyticsApi",0,{getEndpointAnalytics:(a,b)=>{let d=new URLSearchParams;b?.startDate&&d.set("startDate",b.startDate),b?.endDate&&d.set("endDate",b.endDate),b?.granularity&&d.set("granularity",b.granularity),b?.includeDetails&&d.set("includeDetails","true");let e=d.toString();return c(`/api/v1/metered/${a}/analytics${e?`?${e}`:""}`)}},"apiKeysApi",0,{list:()=>c("/api/v1/auth/keys"),create:a=>c("/api/v1/auth/keys",{method:"POST",body:JSON.stringify(a)}),revoke:a=>c(`/api/v1/auth/keys/${a}`,{method:"DELETE"})},"billingApi",0,{getUsage:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.customerId&&b.set("customerId",a.customerId);let d=b.toString();return c(`/api/v1/billing/usage${d?`?${d}`:""}`)},getReport:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.endpointIds&&b.set("endpointIds",a.endpointIds.join(","));let d=b.toString();return c(`/api/v1/billing/report${d?`?${d}`:""}`)},getInvoice:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.customerId&&b.set("customerId",a.customerId);let d=b.toString();return c(`/api/v1/billing/invoice${d?`?${d}`:""}`)}},"cronJobsApi",0,{list:a=>{let b=new URLSearchParams;a?.jobId&&b.set("jobId",a.jobId),a?.limit&&b.set("limit",a.limit.toString()),a?.includeRuns===!1&&b.set("includeRuns","false"),a?.onlyFailing&&b.set("onlyFailing","true");let d=b.toString();return c(`/api/v1/cron-jobs${d?`?${d}`:""}`)},trigger:a=>c("/api/v1/cron-jobs",{method:"POST",body:JSON.stringify({jobId:a})})},"endpointsApi",0,{list:()=>c("/api/v1/endpoints"),get:a=>c(`/api/v1/endpoints/${a}`),create:a=>c("/api/v1/endpoints",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>c(`/api/v1/endpoints/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:a=>c(`/api/v1/endpoints/${a}`,{method:"DELETE"}),getStats:a=>c(`/api/v1/endpoints/${a}/stats`)},"monitoringApi",0,{getMetrics:a=>{let b=new URLSearchParams;a?.name&&b.set("name",a.name),a?.startTime&&b.set("startTime",a.startTime.toString()),a?.endTime&&b.set("endTime",a.endTime.toString()),a?.tags&&b.set("tags",JSON.stringify(a.tags)),a?.recent&&b.set("recent","true"),a?.limit&&b.set("limit",a.limit.toString());let d=b.toString();return c(`/api/v1/monitoring/metrics${d?`?${d}`:""}`)},getAlerts:a=>{let b=new URLSearchParams;return!1!==a&&b.set("includeRules","true"),c(`/api/v1/monitoring/alerts?${b.toString()}`)},createAlertRule:a=>c("/api/v1/monitoring/alerts",{method:"POST",body:JSON.stringify(a)}),deleteAlertRule:a=>c(`/api/v1/monitoring/alerts/${a}`,{method:"DELETE"})},"onboardingApi",0,{getStatus:()=>c("/api/v1/user/onboarding"),completeStep:a=>c("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({stepId:a})}),dismiss:()=>c("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({dismiss:!0})})},"webhooksApi",0,{list:a=>{let b=new URLSearchParams;a&&b.set("endpointId",a);let d=b.toString();return c(`/api/v1/webhooks${d?`?${d}`:""}`)},create:a=>c("/api/v1/webhooks",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>c(`/api/v1/webhooks/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:a=>c(`/api/v1/webhooks/${a}`,{method:"DELETE"})}])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},5151,a=>{"use strict";let b=(0,a.i(70106).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},38875,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91938),e=a.i(90166),f=a.i(96221),g=a.i(92e3);let h=(0,a.i(70106).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var i=a.i(5151),j=a.i(33441),k=a.i(41675);function l(){let[a,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)("monthly"),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{y()},[u]);let y=async()=>{try{r(!0),t(null);let[a,b]=await Promise.all([d.billingApi.getUsage({periodType:u}),d.billingApi.getInvoice({periodType:u})]);l(a),n(b)}catch(a){A(a)}finally{r(!1)}},z=async()=>{try{t(null);let a=await d.billingApi.getReport({periodType:u});p(a)}catch(a){A(a)}},A=a=>{a instanceof d.ApiError?t(401===a.status?"Invalid API key. Please check your API key and try again.":403===a.status?"Access denied. Admin access required for revenue reports.":`${a.message} (Status: ${a.status}, Code: ${a.code})`):a instanceof Error?t(`Failed to load data: ${a.message}`):t("Failed to load data: Unknown error")},B=a=>{let b=parseFloat(a)/1e6;return`$${b.toFixed(6)}`};return q?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.Loader2,{className:"w-8 h-8 animate-spin mx-auto text-lime-400"}),(0,b.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading billing data..."})]}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Billing & Usage"}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",children:[(0,b.jsx)("option",{value:"daily",children:"Daily"}),(0,b.jsx)("option",{value:"weekly",children:"Weekly"}),(0,b.jsx)("option",{value:"monthly",children:"Monthly"})]})})]}),s&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3",children:[(0,b.jsx)(g.AlertCircle,{className:"w-5 h-5 text-red-400"}),(0,b.jsx)("span",{className:"text-red-400",children:s})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[a&&(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(k.Calendar,{className:"w-5 h-5"}),"Current Period Usage"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Requests"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.totalUsage?.totalRequests||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Payments"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.totalUsage?.totalPayments||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Revenue"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:B(a.totalUsage?.totalRevenue||"0")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Units"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.totalUsage?.totalUnits||0})]})]}),a.endpoints&&a.endpoints.length>0&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Usage by Endpoint"}),(0,b.jsx)("div",{className:"space-y-3",children:a.endpoints.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"font-semibold",children:a.endpointName}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:a.endpointId})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Requests:"}),(0,b.jsx)("p",{className:"font-semibold",children:a.usage.totalRequests})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Payments:"}),(0,b.jsx)("p",{className:"font-semibold",children:a.usage.totalPayments})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Revenue:"}),(0,b.jsx)("p",{className:"font-semibold",children:B(a.usage.totalRevenue)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Success Rate:"}),(0,b.jsxs)("p",{className:"font-semibold",children:[(100*a.usage.successRate).toFixed(1),"%"]})]})]})]},a.endpointId))})]})]}),m&&(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,b.jsx)(h,{className:"w-5 h-5"}),"Invoice"]}),(0,b.jsx)("button",{onClick:()=>{var a;return a=JSON.stringify(m,null,2),void(navigator.clipboard.writeText(a),x("invoice"),setTimeout(()=>x(null),2e3))},className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:"invoice"===w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Check,{className:"w-4 h-4 text-green-400"}),"Copied"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Copy,{className:"w-4 h-4"}),"Copy"]})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Period:"}),(0,b.jsxs)("p",{className:"font-semibold",children:[new Date(m.period.startDate).toLocaleDateString()," - ",new Date(m.period.endDate).toLocaleDateString()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Currency:"}),(0,b.jsxs)("p",{className:"font-semibold",children:[m.currency," (",m.network,")"]})]})]}),m.lineItems&&m.lineItems.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Line Items"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,b.jsx)("th",{className:"text-left py-2 text-gray-400",children:"Description"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Quantity"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Unit Price"}),(0,b.jsx)("th",{className:"text-right py-2 text-gray-400",children:"Total"})]})}),(0,b.jsx)("tbody",{children:m.lineItems.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,b.jsx)("td",{className:"py-2",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.endpointName}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:a.description})]})}),(0,b.jsx)("td",{className:"py-2 text-right",children:a.quantity}),(0,b.jsx)("td",{className:"py-2 text-right",children:B(a.unitPrice)}),(0,b.jsx)("td",{className:"py-2 text-right font-semibold",children:B(a.total)})]},c))}),(0,b.jsxs)("tfoot",{children:[(0,b.jsxs)("tr",{className:"border-t-2 border-gray-700",children:[(0,b.jsx)("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Subtotal:"}),(0,b.jsx)("td",{className:"py-2 text-right font-semibold",children:B(m.subtotal)})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:3,className:"py-2 text-right font-semibold",children:"Tax:"}),(0,b.jsx)("td",{className:"py-2 text-right font-semibold",children:B(m.tax)})]}),(0,b.jsxs)("tr",{className:"border-t-2 border-gray-700",children:[(0,b.jsx)("td",{colSpan:3,className:"py-2 text-right font-semibold text-lg",children:"Total:"}),(0,b.jsx)("td",{className:"py-2 text-right font-semibold text-lg text-lime-400",children:B(m.total)})]})]})]})})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,b.jsx)(e.DollarSign,{className:"w-5 h-5"}),"Revenue Report"]}),(0,b.jsx)("button",{onClick:z,className:"px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:"Load Report"})]}),o?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Revenue"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:B(o.totalRevenue)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Payments"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:o.totalPayments})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"Total Requests"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:o.totalRequests})]})]}),o.byEndpoint&&o.byEndpoint.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"By Endpoint"}),(0,b.jsx)("div",{className:"space-y-2",children:o.byEndpoint.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.endpointName}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:a.endpointId})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-semibold",children:B(a.revenue)}),(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:[a.payments," payments"]})]})]},a.endpointId))})]})]}):(0,b.jsx)("p",{className:"text-gray-400",children:'Click "Load Report" to view revenue breakdown'})]})]})]})}a.s(["default",()=>l],38875)}];

//# sourceMappingURL=_99f9f0fc._.js.map