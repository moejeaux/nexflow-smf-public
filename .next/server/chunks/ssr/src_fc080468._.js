module.exports=[91938,a=>{"use strict";class b extends Error{status;code;details;constructor(a,b,c,d){super(c),this.status=a,this.code=b,this.details=d,this.name="ApiError"}}async function c(a,d={}){throw new b(401,"UNAUTHORIZED","API key not found. Please set your API key in settings.")}a.s(["ApiError",()=>b,"analyticsApi",0,{getEndpointAnalytics:(a,b)=>{let d=new URLSearchParams;b?.startDate&&d.set("startDate",b.startDate),b?.endDate&&d.set("endDate",b.endDate),b?.granularity&&d.set("granularity",b.granularity),b?.includeDetails&&d.set("includeDetails","true");let e=d.toString();return c(`/api/v1/metered/${a}/analytics${e?`?${e}`:""}`)}},"apiKeysApi",0,{list:()=>c("/api/v1/auth/keys"),create:a=>c("/api/v1/auth/keys",{method:"POST",body:JSON.stringify(a)}),revoke:a=>c(`/api/v1/auth/keys/${a}`,{method:"DELETE"})},"billingApi",0,{getUsage:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.customerId&&b.set("customerId",a.customerId);let d=b.toString();return c(`/api/v1/billing/usage${d?`?${d}`:""}`)},getReport:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.endpointIds&&b.set("endpointIds",a.endpointIds.join(","));let d=b.toString();return c(`/api/v1/billing/report${d?`?${d}`:""}`)},getInvoice:a=>{let b=new URLSearchParams;a?.startDate&&b.set("startDate",a.startDate),a?.endDate&&b.set("endDate",a.endDate),a?.periodType&&b.set("periodType",a.periodType),a?.customerId&&b.set("customerId",a.customerId);let d=b.toString();return c(`/api/v1/billing/invoice${d?`?${d}`:""}`)}},"cronJobsApi",0,{list:a=>{let b=new URLSearchParams;a?.jobId&&b.set("jobId",a.jobId),a?.limit&&b.set("limit",a.limit.toString()),a?.includeRuns===!1&&b.set("includeRuns","false"),a?.onlyFailing&&b.set("onlyFailing","true");let d=b.toString();return c(`/api/v1/cron-jobs${d?`?${d}`:""}`)},trigger:a=>c("/api/v1/cron-jobs",{method:"POST",body:JSON.stringify({jobId:a})})},"endpointsApi",0,{list:()=>c("/api/v1/endpoints"),get:a=>c(`/api/v1/endpoints/${a}`),create:a=>c("/api/v1/endpoints",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>c(`/api/v1/endpoints/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:a=>c(`/api/v1/endpoints/${a}`,{method:"DELETE"}),getStats:a=>c(`/api/v1/endpoints/${a}/stats`)},"monitoringApi",0,{getMetrics:a=>{let b=new URLSearchParams;a?.name&&b.set("name",a.name),a?.startTime&&b.set("startTime",a.startTime.toString()),a?.endTime&&b.set("endTime",a.endTime.toString()),a?.tags&&b.set("tags",JSON.stringify(a.tags)),a?.recent&&b.set("recent","true"),a?.limit&&b.set("limit",a.limit.toString());let d=b.toString();return c(`/api/v1/monitoring/metrics${d?`?${d}`:""}`)},getAlerts:a=>{let b=new URLSearchParams;return!1!==a&&b.set("includeRules","true"),c(`/api/v1/monitoring/alerts?${b.toString()}`)},createAlertRule:a=>c("/api/v1/monitoring/alerts",{method:"POST",body:JSON.stringify(a)}),deleteAlertRule:a=>c(`/api/v1/monitoring/alerts/${a}`,{method:"DELETE"})},"onboardingApi",0,{getStatus:()=>c("/api/v1/user/onboarding"),completeStep:a=>c("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({stepId:a})}),dismiss:()=>c("/api/v1/user/onboarding",{method:"PUT",body:JSON.stringify({dismiss:!0})})},"webhooksApi",0,{list:a=>{let b=new URLSearchParams;a&&b.set("endpointId",a);let d=b.toString();return c(`/api/v1/webhooks${d?`?${d}`:""}`)},create:a=>c("/api/v1/webhooks",{method:"POST",body:JSON.stringify(a)}),update:(a,b)=>c(`/api/v1/webhooks/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:a=>c(`/api/v1/webhooks/${a}`,{method:"DELETE"})}])},30296,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91938);function e(){let[a,e]=(0,c.useState)(null),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)([]);async function n(){try{let a=await d.endpointsApi.list();m(a.endpoints||[]),a.endpoints&&a.endpoints.length>0&&k(a.endpoints[0].id)}catch(a){i(a.message)}}async function o(){if(j){g(!0),i(null);try{let a=await d.endpointsApi.getStats(j),b={totalRequests:a.stats?.totalRequests||0,successfulRequests:a.stats?.totalRequests-(a.stats?.totalPayments||0),failedRequests:0,totalRevenue:a.stats?.totalRevenue||"0",averageLatency:a.stats?.averageResponseTime||0,requestsByHour:[],failuresByCode:{},recentTransactions:(a.recentPayments||[]).map(a=>({txHash:a.txHash,timestamp:a.verifiedAt,amount:a.amount,customerId:a.fromAddress?.substring(0,10)+"..."}))};e(b)}catch(a){i(a.message)}finally{g(!1)}}}function p(a){let b=BigInt(a),c=BigInt(1e6);return`${b/c}.${(b%c).toString().padStart(6,"0")}`}return((0,c.useEffect)(()=>{n()},[]),(0,c.useEffect)(()=>{j&&o()},[j]),f&&!a)?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Operations Dashboard"}),(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading operations data..."})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Operations Dashboard"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Real-time traffic, failures, and revenue for paid endpoints"})]}),h&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-6",children:[(0,b.jsx)("strong",{children:"Error:"})," ",h]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Endpoint"}),(0,b.jsx)("select",{value:j,onChange:a=>k(a.target.value),className:"block w-full max-w-md rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:l.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.id,")"]},a.id))})]}),a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Requests"}),(0,b.jsx)("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:a.totalRequests})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Successful"}),(0,b.jsx)("div",{className:"mt-2 text-3xl font-bold text-green-600",children:a.successfulRequests})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),(0,b.jsxs)("div",{className:"mt-2 text-3xl font-bold text-blue-600",children:[p(a.totalRevenue)," USDC"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Avg Latency"}),(0,b.jsxs)("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:[Math.round(a.averageLatency),"ms"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Transactions"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction Hash"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===a.recentTransactions.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No transactions yet. Start making paid calls to see them here."})}):a.recentTransactions.map((a,c)=>{var d;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("a",{href:(d=a.txHash,`https://basescan.org/tx/${d}`),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-mono text-sm",children:[a.txHash.substring(0,16),"..."]})}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p(a.amount)," USDC"]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:a.customerId}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.timestamp).toLocaleString()})]},c)})})]})})]}),Object.keys(a.failuresByCode).length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Failures by Error Code"})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"space-y-2",children:Object.entries(a.failuresByCode).map(([a,c])=>(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm font-mono text-gray-700",children:a}),(0,b.jsx)("span",{className:"text-sm font-semibold text-red-600",children:c})]},a))})})]})]}),!a&&!f&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,b.jsx)("p",{className:"text-gray-600",children:"No operations data available yet."}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Make some paid calls to your endpoint to see metrics here."})]})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_fc080468._.js.map