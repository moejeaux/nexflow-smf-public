module.exports=[49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(35125),f=a.i(15618),g=a.i(92e3),h=a.i(52495),i=a.i(91938),j=a.i(67453),k=a.i(70106);let l=(0,k.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=a.i(32860),n=a.i(33508),o=a.i(8406),p=a.i(5784),q=a.i(67552),r=a.i(82478),s=a.i(81402),t=a.i(80386),u=a.i(39761);let v=(0,k.default)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);var w=a.i(8237);let x={account_created:o.Sparkles,api_key_copied:s.Key,first_endpoint:e.Server,test_request:t.Terminal,view_usage:u.BarChart3};function y(){let[a,e]=(0,c.useState)(!0),[f,g]=(0,c.useState)(null),[h,k]=(0,c.useState)(null),[o,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),y=null;try{y=(0,w.useTooltipTour)().startTour}catch{}(0,c.useEffect)(()=>{z()},[]);let z=async()=>{try{e(!0);let a=await i.onboardingApi.getStatus();k(a.onboarding)}catch(a){console.error("Failed to load onboarding:",a),g(a.message)}finally{e(!1)}},A=async a=>{try{await i.onboardingApi.completeStep(a),await z()}catch(a){console.error("Failed to mark step complete:",a)}},B=async()=>{try{await i.onboardingApi.dismiss(),u(!0)}catch(a){console.error("Failed to dismiss:",a)}};if(a||f||t||!h?.showChecklist)return null;let C=h.checklist.find(a=>!a.completed);return(0,b.jsxs)("div",{className:"bg-gradient-to-br from-lime-950/30 via-gray-900 to-gray-900 border border-lime-400/20 rounded-xl overflow-hidden mb-6",children:[(0,b.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-gray-800/30 transition-colors",onClick:()=>s(!o),children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-lime-400/10 rounded-lg flex items-center justify-center",children:(0,b.jsx)(r.Rocket,{className:"w-5 h-5 text-lime-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:["Getting Started",h.allComplete&&(0,b.jsx)("span",{className:"text-xs bg-lime-400/20 text-lime-400 px-2 py-0.5 rounded-full",children:"Complete!"})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:[h.progress.completed," of ",h.progress.total," steps complete"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-lime-400 to-lime-300 rounded-full transition-all duration-500",style:{width:`${h.progress.percent}%`}})}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[h.progress.percent,"%"]})]}),o?(0,b.jsx)(q.ChevronUp,{className:"w-5 h-5 text-gray-400"}):(0,b.jsx)(p.ChevronDown,{className:"w-5 h-5 text-gray-400"})]})]}),o&&(0,b.jsxs)("div",{className:"px-4 pb-4 pt-0",children:[(0,b.jsx)("div",{className:"space-y-2",children:h.checklist.map(a=>{let c=x[a.id]||l,e=C?.id===a.id;return(0,b.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-lg transition-all ${a.completed?"bg-gray-800/30 opacity-70":e?"bg-lime-400/5 border border-lime-400/20":"bg-gray-800/20"}`,children:[(0,b.jsx)("div",{className:`mt-0.5 ${a.completed?"text-lime-400":"text-gray-500"}`,children:a.completed?(0,b.jsx)(j.CheckCircle2,{className:"w-5 h-5"}):(0,b.jsx)(c,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`font-medium ${a.completed?"text-gray-400 line-through":"text-white"}`,children:a.title}),e&&!a.completed&&(0,b.jsx)("span",{className:"text-xs bg-lime-400/20 text-lime-400 px-2 py-0.5 rounded-full",children:"Next"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:a.description}),!a.completed&&(a.link||a.docs)&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[a.link&&(0,b.jsxs)(d.default,{href:a.link,className:"text-sm text-lime-400 hover:text-lime-300 flex items-center gap-1",children:["Go to ",a.link.split("/").pop()," ",(0,b.jsx)(m.ArrowRight,{className:"w-3 h-3"})]}),a.docs&&(0,b.jsx)(d.default,{href:a.docs,className:"text-sm text-blue-400 hover:text-blue-300",children:"View docs"})]}),"api_key_copied"===a.id&&!a.completed&&(0,b.jsxs)("button",{onClick:()=>A("api_key_copied"),className:"mt-2 text-sm text-lime-400 hover:text-lime-300 flex items-center gap-1",children:[(0,b.jsx)(j.CheckCircle2,{className:"w-3 h-3"})," Mark as copied"]})]})]},a.id)})}),(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-800 flex items-center justify-between",children:[y&&(0,b.jsxs)("button",{onClick:()=>y("dashboard-intro"),className:"text-sm text-lime-400 hover:text-lime-300 flex items-center gap-1.5 px-3 py-1.5 bg-lime-400/10 rounded-lg border border-lime-400/20 hover:bg-lime-400/20 transition-colors",children:[(0,b.jsx)(v,{className:"w-4 h-4"})," Take a Quick Tour"]}),(0,b.jsxs)("button",{onClick:B,className:"text-sm text-gray-500 hover:text-gray-400 flex items-center gap-1 ml-auto",children:[(0,b.jsx)(n.X,{className:"w-3 h-3"})," Dismiss checklist"]})]})]})]})}function z(){let[a,e]=(0,c.useState)([]),[f,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null);(0,c.useEffect)(()=>{m()},[]);let m=async()=>{try{j(!0),l(null);let a=await i.endpointsApi.list();e(a.endpoints||[])}catch(a){console.error("Load data error:",a),a instanceof i.ApiError?l(401===a.status?"Invalid API key. Please check your API key and try again.":403===a.status?"Access denied. Your API key may not have the required permissions.":`${a.message} (Status: ${a.status}, Code: ${a.code})`):a instanceof Error?a.message.includes("Failed to fetch")||a.message.includes("NetworkError")?l("Cannot connect to server. Make sure the server is running on http://localhost:3001"):l(`Failed to load data: ${a.message}`):l("Failed to load data: Unknown error")}finally{j(!1)}};return(0,b.jsxs)("div",{children:[(0,b.jsx)(y,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Endpoints"}),(0,b.jsx)(w.StartTourButton,{tourId:"dashboard-intro",label:"Take a Tour"})]}),(0,b.jsxs)(d.default,{href:"/x402-demo",className:"flex items-center gap-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-medium transition-colors",children:[(0,b.jsx)(h.ExternalLink,{className:"w-4 h-4"}),"Try x402 Demo"]})]}),k&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3",children:[(0,b.jsx)(g.AlertCircle,{className:"w-5 h-5 text-red-400"}),(0,b.jsx)("span",{className:"text-red-400",children:k})]}),f?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-lime-400"}),(0,b.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading..."})]}):(0,b.jsx)(A,{endpoints:a,onRefresh:m})]})}function A({endpoints:a,onRefresh:d}){let[g,h]=(0,c.useState)(!1);return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Metered Endpoints"}),(0,b.jsxs)("button",{onClick:()=>h(!0),"data-tour":"create-endpoint-btn",className:"flex items-center gap-2 px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:[(0,b.jsx)(f.Plus,{className:"w-4 h-4"}),"Create Endpoint"]})]}),g&&(0,b.jsx)(C,{onClose:()=>{h(!1),d()}}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-gray-900 rounded-lg border border-gray-800",children:[(0,b.jsx)(e.Server,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"No endpoints yet"}),(0,b.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors",children:"Create Your First Endpoint"})]}):(0,b.jsx)("div",{className:"grid gap-4",children:a.map(a=>(0,b.jsx)(B,{endpoint:a,onRefresh:d},a.id))})]})}function B({endpoint:a,onRefresh:e}){let[f,g]=(0,c.useState)(!1),h=async()=>{try{await i.endpointsApi.delete(a.id),e()}catch(a){alert(a instanceof i.ApiError?a.message:"Failed to delete endpoint")}};return(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold",children:a.name}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"active"===a.status?"bg-green-900/30 text-green-400":"bg-gray-800 text-gray-400"}`,children:a.status})]}),a.description&&(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Upstream URL:"}),(0,b.jsx)("p",{className:"text-gray-300 font-mono text-xs mt-1",children:a.upstreamUrl})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Price:"}),(0,b.jsxs)("p",{className:"text-gray-300 mt-1",children:[a.price," ",a.tokenSymbol||"USDC"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Network:"}),(0,b.jsx)("p",{className:"text-gray-300 mt-1 capitalize",children:a.network})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Metered URL:"}),(0,b.jsxs)("p",{className:"text-gray-300 font-mono text-xs mt-1 break-all",children:["/api/v1/metered/",a.id]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)(d.default,{href:`/dashboard/endpoints/${a.id}`,className:"px-3 py-1.5 text-sm bg-gray-800 text-gray-300 rounded hover:bg-gray-700 transition-colors",children:"View"}),(0,b.jsx)("button",{onClick:()=>g(!0),className:"px-3 py-1.5 text-sm bg-red-900/20 text-red-400 rounded hover:bg-red-900/30 transition-colors",children:"Delete"})]})]}),f&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 max-w-md w-full mx-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Delete Endpoint?"}),(0,b.jsxs)("p",{className:"text-gray-400 mb-6",children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:h,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"}),(0,b.jsx)("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})})]})}function C({onClose:a}){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)({name:"",description:"",upstreamUrl:"",price:"",recipientAddress:"",network:"base",tokenSymbol:"USDC",tokenAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",chainId:8453}),h=async b=>{b.preventDefault(),e(!0);try{await i.endpointsApi.create(f),a()}catch(a){alert(a instanceof i.ApiError?a.message:"Failed to create endpoint")}finally{e(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Create Metered Endpoint"}),(0,b.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),(0,b.jsx)("input",{type:"text",required:!0,value:f.name,onChange:a=>g({...f,name:a.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:f.description,onChange:a=>g({...f,description:a.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",rows:3})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upstream URL *"}),(0,b.jsx)("input",{type:"url",required:!0,value:f.upstreamUrl,onChange:a=>g({...f,upstreamUrl:a.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",placeholder:"https://api.example.com/v1/endpoint"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price (in wei) *"}),(0,b.jsx)("input",{type:"text",required:!0,value:f.price,onChange:a=>g({...f,price:a.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",placeholder:"1000000"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Recipient Address *"}),(0,b.jsx)("input",{type:"text",required:!0,value:f.recipientAddress,onChange:a=>g({...f,recipientAddress:a.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-lime-400",placeholder:"0x..."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"submit",disabled:d,className:"flex-1 px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors disabled:opacity-50",children:d?"Creating...":"Create Endpoint"}),(0,b.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})]})})}a.s(["default",()=>z],49846)}];

//# sourceMappingURL=src_app_dashboard_page_tsx_196c74b5._.js.map