{"version":3,"sources":["../../../src/integrations/x402/caip-utils.ts","../../../src/integrations/x402/chain-registry.ts"],"sourcesContent":["// =============================================================================\r\n// CAIP (Chain Agnostic Improvement Proposals) Utilities\r\n// =============================================================================\r\n// Utilities for parsing, formatting, and validating CAIP identifiers\r\n// CAIP-2: Blockchain ID Specification\r\n// CAIP-19: Asset ID Specification\r\n\r\n/**\r\n * CAIP-2 Network Identifier\r\n * Format: <namespace>:<reference>\r\n * Examples:\r\n * - eip155:1 (Ethereum Mainnet)\r\n * - eip155:8453 (Base)\r\n * - eip155:56 (BNB Chain)\r\n * - eip155:137 (Polygon)\r\n * - solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp (Solana Mainnet)\r\n */\r\nexport type CAIPNetworkId = string;\r\n\r\n/**\r\n * CAIP-19 Asset Identifier\r\n * Format: <namespace>:<reference>/<asset_namespace>:<asset_reference>\r\n * Examples:\r\n * - eip155:1/erc20:0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48 (USDC on Ethereum)\r\n * - eip155:8453/erc20:0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913 (USDC on Base)\r\n * - eip155:1/slip44:60 (ETH on Ethereum)\r\n */\r\nexport type CAIPAssetId = string;\r\n\r\n/**\r\n * Parsed CAIP-2 Network Identifier\r\n */\r\nexport interface ParsedCAIPNetwork {\r\n  namespace: string; // e.g., 'eip155', 'solana'\r\n  reference: string; // e.g., '8453', '5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp'\r\n  chainId?: number; // For EVM chains, the numeric chain ID\r\n}\r\n\r\n/**\r\n * Parsed CAIP-19 Asset Identifier\r\n */\r\nexport interface ParsedCAIPAsset {\r\n  network: ParsedCAIPNetwork;\r\n  assetNamespace: string; // e.g., 'erc20', 'slip44'\r\n  assetReference: string; // e.g., '0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913', '60'\r\n  address?: string; // For ERC20 tokens, the contract address\r\n}\r\n\r\n/**\r\n * Parse a CAIP-2 network identifier\r\n */\r\nexport function parseCAIPNetwork(caip: CAIPNetworkId): ParsedCAIPNetwork | null {\r\n  try {\r\n    const [namespace, reference] = caip.split(':');\r\n    if (!namespace || !reference) {\r\n      return null;\r\n    }\r\n\r\n    // For EVM chains (eip155), reference is the chain ID\r\n    let chainId: number | undefined;\r\n    if (namespace === 'eip155') {\r\n      chainId = parseInt(reference, 10);\r\n      if (isNaN(chainId)) {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return {\r\n      namespace,\r\n      reference,\r\n      chainId,\r\n    };\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Format a CAIP-2 network identifier\r\n */\r\nexport function formatCAIPNetwork(namespace: string, reference: string | number): CAIPNetworkId {\r\n  return `${namespace}:${reference}`;\r\n}\r\n\r\n/**\r\n * Parse a CAIP-19 asset identifier\r\n */\r\nexport function parseCAIPAsset(caip: CAIPAssetId): ParsedCAIPAsset | null {\r\n  try {\r\n    const parts = caip.split('/');\r\n    if (parts.length !== 2) {\r\n      return null;\r\n    }\r\n\r\n    const networkPart = parts[0];\r\n    const assetPart = parts[1];\r\n\r\n    const network = parseCAIPNetwork(networkPart);\r\n    if (!network) {\r\n      return null;\r\n    }\r\n\r\n    const [assetNamespace, assetReference] = assetPart.split(':');\r\n    if (!assetNamespace || !assetReference) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      network,\r\n      assetNamespace,\r\n      assetReference,\r\n      address: assetNamespace === 'erc20' ? assetReference : undefined,\r\n    };\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Format a CAIP-19 asset identifier\r\n */\r\nexport function formatCAIPAsset(\r\n  network: CAIPNetworkId,\r\n  assetNamespace: string,\r\n  assetReference: string\r\n): CAIPAssetId {\r\n  return `${network}/${assetNamespace}:${assetReference}`;\r\n}\r\n\r\n/**\r\n * Convert legacy network name to CAIP-2\r\n */\r\nexport function networkToCAIP(network: string): CAIPNetworkId | null {\r\n  const networkMap: Record<string, CAIPNetworkId> = {\r\n    ethereum: 'eip155:1',\r\n    mainnet: 'eip155:1',\r\n    base: 'eip155:8453',\r\n    'base-mainnet': 'eip155:8453',\r\n    bnb: 'eip155:56',\r\n    'bnb-chain': 'eip155:56',\r\n    'bsc': 'eip155:56',\r\n    polygon: 'eip155:137',\r\n    'polygon-mainnet': 'eip155:137',\r\n    arbitrum: 'eip155:42161',\r\n    'arbitrum-one': 'eip155:42161',\r\n    optimism: 'eip155:10',\r\n    'optimism-mainnet': 'eip155:10',\r\n    avalanche: 'eip155:43114',\r\n    'avalanche-mainnet': 'eip155:43114',\r\n    solana: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\r\n    'solana-mainnet': 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\r\n    // Cronos networks - see https://docs.cronos.org/cronos-x402-facilitator\r\n    cronos: 'eip155:25',\r\n    'cronos-mainnet': 'eip155:25',\r\n    'cronos-testnet': 'eip155:338',\r\n  };\r\n\r\n  const normalized = network.toLowerCase().replace(/_/g, '-');\r\n  return networkMap[normalized] || null;\r\n}\r\n\r\n/**\r\n * Convert CAIP-2 to legacy network name\r\n */\r\nexport function caipToNetwork(caip: CAIPNetworkId): string | null {\r\n  const parsed = parseCAIPNetwork(caip);\r\n  if (!parsed) {\r\n    return null;\r\n  }\r\n\r\n  if (parsed.namespace === 'eip155') {\r\n    const chainIdMap: Record<number, string> = {\r\n      1: 'ethereum',\r\n      8453: 'base',\r\n      56: 'bnb',\r\n      137: 'polygon',\r\n      42161: 'arbitrum',\r\n      10: 'optimism',\r\n      43114: 'avalanche',\r\n      // Cronos networks - see https://docs.cronos.org/cronos-x402-facilitator\r\n      25: 'cronos',\r\n      338: 'cronos-testnet',\r\n    };\r\n    return chainIdMap[parsed.chainId!] || null;\r\n  }\r\n\r\n  if (parsed.namespace === 'solana') {\r\n    return 'solana';\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * Get chain ID from CAIP-2 network identifier (EVM only)\r\n */\r\nexport function getChainId(caip: CAIPNetworkId): number | null {\r\n  const parsed = parseCAIPNetwork(caip);\r\n  if (parsed?.namespace === 'eip155' && parsed.chainId) {\r\n    return parsed.chainId;\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Check if CAIP network is EVM-compatible\r\n */\r\nexport function isEVMNetwork(caip: CAIPNetworkId): boolean {\r\n  const parsed = parseCAIPNetwork(caip);\r\n  return parsed?.namespace === 'eip155' || false;\r\n}\r\n\r\n/**\r\n * Check if CAIP network is Solana\r\n */\r\nexport function isSolanaNetwork(caip: CAIPNetworkId): boolean {\r\n  const parsed = parseCAIPNetwork(caip);\r\n  return parsed?.namespace === 'solana' || false;\r\n}\r\n\r\n/**\r\n * Validate CAIP-2 network identifier format\r\n */\r\nexport function validateCAIPNetwork(caip: CAIPNetworkId): boolean {\r\n  return parseCAIPNetwork(caip) !== null;\r\n}\r\n\r\n/**\r\n * Validate CAIP-19 asset identifier format\r\n */\r\nexport function validateCAIPAsset(caip: CAIPAssetId): boolean {\r\n  return parseCAIPAsset(caip) !== null;\r\n}\r\n\r\n/**\r\n * Get token address from CAIP-19 asset identifier (ERC20 only)\r\n */\r\nexport function getTokenAddress(caip: CAIPAssetId): string | null {\r\n  const parsed = parseCAIPAsset(caip);\r\n  if (parsed?.assetNamespace === 'erc20') {\r\n    return parsed.address || null;\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Convert legacy network + token address to CAIP-19\r\n */\r\nexport function tokenToCAIP(network: string, tokenAddress: string): CAIPAssetId | null {\r\n  const networkCAIP = networkToCAIP(network);\r\n  if (!networkCAIP) {\r\n    return null;\r\n  }\r\n  return formatCAIPAsset(networkCAIP, 'erc20', tokenAddress);\r\n}\r\n\r\n/**\r\n * Common CAIP network identifiers\r\n */\r\nexport const CAIP_NETWORKS = {\r\n  ETHEREUM: 'eip155:1',\r\n  BASE: 'eip155:8453',\r\n  BNB_CHAIN: 'eip155:56',\r\n  POLYGON: 'eip155:137',\r\n  ARBITRUM: 'eip155:42161',\r\n  OPTIMISM: 'eip155:10',\r\n  AVALANCHE: 'eip155:43114',\r\n  SOLANA: 'solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp',\r\n  // Cronos networks - see https://docs.cronos.org/cronos-x402-facilitator\r\n  CRONOS: 'eip155:25',           // Cronos mainnet (chain ID 25)\r\n  CRONOS_TESTNET: 'eip155:338',  // Cronos testnet (chain ID 338)\r\n} as const;\r\n\r\n/**\r\n * Common CAIP asset identifiers (USDC on various chains)\r\n */\r\nexport const CAIP_ASSETS = {\r\n  USDC_ETHEREUM: 'eip155:1/erc20:0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\r\n  USDC_BASE: 'eip155:8453/erc20:0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913',\r\n  USDC_POLYGON: 'eip155:137/erc20:0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',\r\n  USDC_ARBITRUM: 'eip155:42161/erc20:0xaf88d065e77c8cC2239327C5EDb3A432268e5831',\r\n  USDC_OPTIMISM: 'eip155:10/erc20:0x0b2C639c533813f4Aa9D7837CAf62653d097Ff85',\r\n  ETH_ETHEREUM: 'eip155:1/slip44:60',\r\n} as const;\r\n\r\n\r\n\r\n\r\n\r\n","// =============================================================================\r\n// CHAIN REGISTRY\r\n// =============================================================================\r\n// Registry of supported blockchain networks with metadata\r\n\r\nimport { CAIP_NETWORKS, type CAIPNetworkId } from './caip-utils';\r\n\r\n/**\r\n * Network metadata\r\n */\r\nexport interface NetworkMetadata {\r\n  caip: CAIPNetworkId;\r\n  name: string;\r\n  displayName: string;\r\n  chainId: number | null; // For EVM chains\r\n  nativeCurrency: {\r\n    name: string;\r\n    symbol: string;\r\n    decimals: number;\r\n  };\r\n  rpcUrls?: string[];\r\n  blockExplorers?: {\r\n    name: string;\r\n    url: string;\r\n  }[];\r\n  isTestnet: boolean;\r\n  isEVM: boolean;\r\n  isSolana: boolean;\r\n  supportsEIP1559?: boolean; // For EVM chains\r\n  averageGasPrice?: string; // In wei/gwei\r\n  averageBlockTime?: number; // In seconds\r\n}\r\n\r\n/**\r\n * Chain Registry\r\n * \r\n * Central registry of all supported blockchain networks\r\n */\r\nexport class ChainRegistry {\r\n  private networks: Map<CAIPNetworkId, NetworkMetadata> = new Map();\r\n\r\n  constructor() {\r\n    this.registerDefaultNetworks();\r\n  }\r\n\r\n  /**\r\n   * Register a network\r\n   */\r\n  register(network: NetworkMetadata): void {\r\n    this.networks.set(network.caip, network);\r\n  }\r\n\r\n  /**\r\n   * Get network metadata by CAIP identifier\r\n   */\r\n  get(caip: CAIPNetworkId): NetworkMetadata | undefined {\r\n    return this.networks.get(caip);\r\n  }\r\n\r\n  /**\r\n   * Get network by legacy name\r\n   */\r\n  getByLegacyName(name: string): NetworkMetadata | undefined {\r\n    for (const network of this.networks.values()) {\r\n      if (network.name.toLowerCase() === name.toLowerCase()) {\r\n        return network;\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Get all registered networks\r\n   */\r\n  getAll(): NetworkMetadata[] {\r\n    return Array.from(this.networks.values());\r\n  }\r\n\r\n  /**\r\n   * Get all EVM networks\r\n   */\r\n  getEVMs(): NetworkMetadata[] {\r\n    return Array.from(this.networks.values()).filter((n) => n.isEVM);\r\n  }\r\n\r\n  /**\r\n   * Get all Solana networks\r\n   */\r\n  getSolanas(): NetworkMetadata[] {\r\n    return Array.from(this.networks.values()).filter((n) => n.isSolana);\r\n  }\r\n\r\n  /**\r\n   * Check if network is registered\r\n   */\r\n  has(caip: CAIPNetworkId): boolean {\r\n    return this.networks.has(caip);\r\n  }\r\n\r\n  /**\r\n   * Register default networks\r\n   */\r\n  private registerDefaultNetworks(): void {\r\n    // Ethereum Mainnet\r\n    this.register({\r\n      caip: CAIP_NETWORKS.ETHEREUM,\r\n      name: 'ethereum',\r\n      displayName: 'Ethereum',\r\n      chainId: 1,\r\n      nativeCurrency: {\r\n        name: 'Ether',\r\n        symbol: 'ETH',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://eth.llamarpc.com'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Etherscan',\r\n          url: 'https://etherscan.io',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '30000000000', // 30 gwei\r\n      averageBlockTime: 12,\r\n    });\r\n\r\n    // Base\r\n    this.register({\r\n      caip: CAIP_NETWORKS.BASE,\r\n      name: 'base',\r\n      displayName: 'Base',\r\n      chainId: 8453,\r\n      nativeCurrency: {\r\n        name: 'Ether',\r\n        symbol: 'ETH',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://mainnet.base.org'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'BaseScan',\r\n          url: 'https://basescan.org',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '1000000', // 0.001 gwei (very cheap)\r\n      averageBlockTime: 2,\r\n    });\r\n\r\n    // BNB Chain\r\n    this.register({\r\n      caip: CAIP_NETWORKS.BNB_CHAIN,\r\n      name: 'bnb',\r\n      displayName: 'BNB Chain',\r\n      chainId: 56,\r\n      nativeCurrency: {\r\n        name: 'BNB',\r\n        symbol: 'BNB',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://bsc-dataseed.binance.org'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'BscScan',\r\n          url: 'https://bscscan.com',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: false,\r\n      averageGasPrice: '3000000000', // 3 gwei\r\n      averageBlockTime: 3,\r\n    });\r\n\r\n    // Polygon\r\n    this.register({\r\n      caip: CAIP_NETWORKS.POLYGON,\r\n      name: 'polygon',\r\n      displayName: 'Polygon',\r\n      chainId: 137,\r\n      nativeCurrency: {\r\n        name: 'MATIC',\r\n        symbol: 'MATIC',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://polygon-rpc.com'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'PolygonScan',\r\n          url: 'https://polygonscan.com',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '30000000000', // 30 gwei\r\n      averageBlockTime: 2,\r\n    });\r\n\r\n    // Arbitrum One\r\n    this.register({\r\n      caip: CAIP_NETWORKS.ARBITRUM,\r\n      name: 'arbitrum',\r\n      displayName: 'Arbitrum One',\r\n      chainId: 42161,\r\n      nativeCurrency: {\r\n        name: 'Ether',\r\n        symbol: 'ETH',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://arb1.arbitrum.io/rpc'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Arbiscan',\r\n          url: 'https://arbiscan.io',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '100000000', // 0.1 gwei\r\n      averageBlockTime: 0.25,\r\n    });\r\n\r\n    // Optimism\r\n    this.register({\r\n      caip: CAIP_NETWORKS.OPTIMISM,\r\n      name: 'optimism',\r\n      displayName: 'Optimism',\r\n      chainId: 10,\r\n      nativeCurrency: {\r\n        name: 'Ether',\r\n        symbol: 'ETH',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://mainnet.optimism.io'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Optimistic Etherscan',\r\n          url: 'https://optimistic.etherscan.io',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '1000000', // 0.001 gwei\r\n      averageBlockTime: 2,\r\n    });\r\n\r\n    // Avalanche\r\n    this.register({\r\n      caip: CAIP_NETWORKS.AVALANCHE,\r\n      name: 'avalanche',\r\n      displayName: 'Avalanche',\r\n      chainId: 43114,\r\n      nativeCurrency: {\r\n        name: 'AVAX',\r\n        symbol: 'AVAX',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://api.avax.network/ext/bc/C/rpc'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Snowtrace',\r\n          url: 'https://snowtrace.io',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '25000000000', // 25 nAVAX\r\n      averageBlockTime: 2,\r\n    });\r\n\r\n    // Solana Mainnet (placeholder - full support when SDK available)\r\n    this.register({\r\n      caip: CAIP_NETWORKS.SOLANA,\r\n      name: 'solana',\r\n      displayName: 'Solana',\r\n      chainId: null,\r\n      nativeCurrency: {\r\n        name: 'SOL',\r\n        symbol: 'SOL',\r\n        decimals: 9,\r\n      },\r\n      rpcUrls: ['https://api.mainnet-beta.solana.com'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Solana Explorer',\r\n          url: 'https://explorer.solana.com',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: false,\r\n      isSolana: true,\r\n      averageBlockTime: 0.4,\r\n    });\r\n\r\n    // Cronos Mainnet\r\n    // Cronos x402 facilitator: https://docs.cronos.org/cronos-x402-facilitator\r\n    this.register({\r\n      caip: CAIP_NETWORKS.CRONOS,\r\n      name: 'cronos',\r\n      displayName: 'Cronos',\r\n      chainId: 25,\r\n      nativeCurrency: {\r\n        name: 'CRO',\r\n        symbol: 'CRO',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://evm.cronos.org'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Cronoscan',\r\n          url: 'https://cronoscan.com',\r\n        },\r\n      ],\r\n      isTestnet: false,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '5000000000000', // 5000 gwei\r\n      averageBlockTime: 6,\r\n    });\r\n\r\n    // Cronos Testnet\r\n    this.register({\r\n      caip: CAIP_NETWORKS.CRONOS_TESTNET,\r\n      name: 'cronos-testnet',\r\n      displayName: 'Cronos Testnet',\r\n      chainId: 338,\r\n      nativeCurrency: {\r\n        name: 'Test CRO',\r\n        symbol: 'TCRO',\r\n        decimals: 18,\r\n      },\r\n      rpcUrls: ['https://evm-t3.cronos.org'],\r\n      blockExplorers: [\r\n        {\r\n          name: 'Cronos Testnet Explorer',\r\n          url: 'https://testnet.cronoscan.com',\r\n        },\r\n      ],\r\n      isTestnet: true,\r\n      isEVM: true,\r\n      isSolana: false,\r\n      supportsEIP1559: true,\r\n      averageGasPrice: '5000000000000', // 5000 gwei\r\n      averageBlockTime: 6,\r\n    });\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nlet chainRegistry: ChainRegistry | null = null;\r\n\r\n/**\r\n * Get chain registry instance\r\n */\r\nexport function getChainRegistry(): ChainRegistry {\r\n  if (!chainRegistry) {\r\n    chainRegistry = new ChainRegistry();\r\n  }\r\n  return chainRegistry;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}