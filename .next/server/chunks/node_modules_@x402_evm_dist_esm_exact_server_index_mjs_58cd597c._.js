module.exports=[46917,e=>{"use strict";var r=class{constructor(){this.scheme="exact",this.moneyParsers=[]}registerMoneyParser(e){return this.moneyParsers.push(e),this}async parsePrice(e,r){if("object"==typeof e&&null!==e&&"amount"in e){if(!e.asset)throw Error(`Asset address must be specified for AssetAmount on network ${r}`);return{amount:e.amount,asset:e.asset,extra:e.extra||{}}}let t=this.parseMoneyToDecimal(e);for(let e of this.moneyParsers){let s=await e(t,r);if(null!==s)return s}return this.defaultMoneyConversion(t,r)}enhancePaymentRequirements(e,r,t){return Promise.resolve(e)}parseMoneyToDecimal(e){if("number"==typeof e)return e;let r=parseFloat(e.replace(/^\$/,"").trim());if(isNaN(r))throw Error(`Invalid money format: ${e}`);return r}defaultMoneyConversion(e,r){let t=this.convertToTokenAmount(e.toString(),r),s=this.getDefaultAsset(r);return{amount:t,asset:s.address,extra:{name:s.name,version:s.version}}}convertToTokenAmount(e,r){let t=this.getAssetDecimals(r),s=parseFloat(e);if(isNaN(s))throw Error(`Invalid amount: ${e}`);let[n,o=""]=String(s).split(".");return(n+o.padEnd(t,"0").slice(0,t)).replace(/^0+/,"")||"0"}getDefaultAsset(e){let r={"eip155:8453":{address:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",name:"USD Coin",version:"2"},"eip155:84532":{address:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",name:"USDC",version:"2"},"eip155:1":{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",name:"USD Coin",version:"2"},"eip155:11155111":{address:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",name:"USDC",version:"2"}}[e];if(!r)throw Error(`No default asset configured for network ${e}`);return r}getAssetInfo(e,r){let t=e.toUpperCase();if("USDC"===t||"USD"===t)return this.getDefaultAsset(r);throw Error(`Unsupported asset: ${e} on network ${r}`)}getAssetDecimals(e){return 6}};function t(e,s={}){return s.networks&&s.networks.length>0?s.networks.forEach(t=>{e.register(t,new r)}):e.register("eip155:*",new r),e}e.s(["ExactEvmScheme",()=>r,"registerExactEvmScheme",()=>t])}];

//# sourceMappingURL=node_modules_%40x402_evm_dist_esm_exact_server_index_mjs_58cd597c._.js.map