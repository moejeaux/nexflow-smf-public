{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/app/api/demo/paid-agent-run/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function GET(request: NextRequest) {\r\n  const url = request.nextUrl;\r\n\r\n  const model = url.searchParams.get(\"model\") ?? \"gpt-small\";\r\n  const maxSteps = Number(url.searchParams.get(\"maxSteps\") ?? \"10\");\r\n\r\n  let base = 10_000;   // 0.01 USDC\r\n  let perStep = 2_000; // 0.002 USDC\r\n\r\n  if (model === \"gpt-large\") {\r\n    base = 50_000;     // 0.05 USDC\r\n    perStep = 5_000;   // 0.005 USDC\r\n  }\r\n\r\n  const amountInt = base + perStep * maxSteps;\r\n  const amount = amountInt.toString();\r\n\r\n  const body = {\r\n    ok: true,\r\n    product: \"agent-run\",\r\n    model,\r\n    maxSteps,\r\n    amount,\r\n    currency: \"USDC\",\r\n    description: `Paid agent run (${model}, up to ${maxSteps} steps)`\r\n  };\r\n\r\n  return NextResponse.json(body, { status: 200 });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,MAAM,QAAQ,OAAO;IAE3B,MAAM,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY;IAC/C,MAAM,WAAW,OAAO,IAAI,YAAY,CAAC,GAAG,CAAC,eAAe;IAE5D,IAAI,OAAO,QAAU,YAAY;IACjC,IAAI,UAAU,OAAO,aAAa;IAElC,IAAI,UAAU,aAAa;QACzB,OAAO,QAAY,YAAY;QAC/B,UAAU,OAAS,aAAa;IAClC;IAEA,MAAM,YAAY,OAAO,UAAU;IACnC,MAAM,SAAS,UAAU,QAAQ;IAEjC,MAAM,OAAO;QACX,IAAI;QACJ,SAAS;QACT;QACA;QACA;QACA,UAAU;QACV,aAAa,CAAC,gBAAgB,EAAE,MAAM,QAAQ,EAAE,SAAS,OAAO,CAAC;IACnE;IAEA,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;QAAE,QAAQ;IAAI;AAC/C"}}]
}