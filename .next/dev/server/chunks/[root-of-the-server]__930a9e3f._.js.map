{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/app/api/discovery/actions/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport fs from \"node:fs/promises\";\r\nimport path from \"node:path\";\r\nimport type { NexflowDiscoveredData } from \"@/lib/nexflow-types\";\r\n\r\nexport async function GET(req: Request) {\r\n  try {\r\n    const filePath = path.join(process.cwd(), \"data\", \"nexflow-discovered.json\");\r\n    const fileContent = await fs.readFile(filePath, \"utf-8\");\r\n    const data: NexflowDiscoveredData = JSON.parse(fileContent);\r\n\r\n    // Optional query param filtering\r\n    const { searchParams } = new URL(req.url);\r\n    const domain = searchParams.get(\"domain\");\r\n    const network = searchParams.get(\"network\");\r\n    const category = searchParams.get(\"category\");\r\n\r\n    let filteredActions = data.actions;\r\n\r\n    if (domain) {\r\n      filteredActions = filteredActions.filter((a) => a.domain === domain);\r\n    }\r\n    if (network) {\r\n      filteredActions = filteredActions.filter(\r\n        (a) => a.pricing?.network === network\r\n      );\r\n    }\r\n    if (category) {\r\n      filteredActions = filteredActions.filter((a) => a.category === category);\r\n    }\r\n\r\n    return NextResponse.json({\r\n      crawledAt: data.crawledAt,\r\n      actions: filteredActions,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Failed to load actions:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to load actions\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAGO,eAAe,IAAI,GAAY;IACpC,IAAI;QACF,MAAM,WAAW,4HAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ;QAClD,MAAM,cAAc,MAAM,gJAAE,CAAC,QAAQ,CAAC,UAAU;QAChD,MAAM,OAA8B,KAAK,KAAK,CAAC;QAE/C,iCAAiC;QACjC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG;QACxC,MAAM,SAAS,aAAa,GAAG,CAAC;QAChC,MAAM,UAAU,aAAa,GAAG,CAAC;QACjC,MAAM,WAAW,aAAa,GAAG,CAAC;QAElC,IAAI,kBAAkB,KAAK,OAAO;QAElC,IAAI,QAAQ;YACV,kBAAkB,gBAAgB,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;QAC/D;QACA,IAAI,SAAS;YACX,kBAAkB,gBAAgB,MAAM,CACtC,CAAC,IAAM,EAAE,OAAO,EAAE,YAAY;QAElC;QACA,IAAI,UAAU;YACZ,kBAAkB,gBAAgB,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;QACjE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,WAAW,KAAK,SAAS;YACzB,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyB,GAClC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}