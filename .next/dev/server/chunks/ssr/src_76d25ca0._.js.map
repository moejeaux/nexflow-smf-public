{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/components/OnboardingTooltip.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback, createContext, useContext, ReactNode } from 'react'\r\nimport { X, ArrowRight, ArrowLeft, Sparkles } from 'lucide-react'\r\n\r\n// =============================================================================\r\n// ONBOARDING TOOLTIP TOUR SYSTEM\r\n// =============================================================================\r\n\r\ninterface TooltipStep {\r\n  id: string\r\n  targetSelector: string\r\n  title: string\r\n  content: string\r\n  position: 'top' | 'bottom' | 'left' | 'right'\r\n  highlightPadding?: number\r\n}\r\n\r\ninterface TooltipContextType {\r\n  isActive: boolean\r\n  currentStep: number\r\n  totalSteps: number\r\n  startTour: (tourId: string) => void\r\n  endTour: () => void\r\n  nextStep: () => void\r\n  prevStep: () => void\r\n  skipTour: () => void\r\n}\r\n\r\nconst TooltipContext = createContext<TooltipContextType | null>(null)\r\n\r\nexport const useTooltipTour = () => {\r\n  const context = useContext(TooltipContext)\r\n  if (!context) {\r\n    throw new Error('useTooltipTour must be used within TooltipProvider')\r\n  }\r\n  return context\r\n}\r\n\r\n// Tour definitions\r\nconst TOURS: Record<string, TooltipStep[]> = {\r\n  'dashboard-intro': [\r\n    {\r\n      id: 'welcome',\r\n      targetSelector: '[data-tour=\"dashboard-header\"]',\r\n      title: 'Welcome to NexFlow! ðŸŽ‰',\r\n      content: 'This is your dashboard where you can manage metered API endpoints, monitor usage, and configure payments. Check out the docs at /docs for a full quickstart guide.',\r\n      position: 'bottom',\r\n    },\r\n    {\r\n      id: 'create-endpoint',\r\n      targetSelector: '[data-tour=\"create-endpoint-btn\"]',\r\n      title: 'Create Your First Endpoint',\r\n      content: 'Click here to create a metered endpoint. You\\'ll set a price per API call and connect it to your upstream service. See /docs?section=metered for detailed setup instructions.',\r\n      position: 'bottom',\r\n    },\r\n    {\r\n      id: 'usage-nav',\r\n      targetSelector: '[data-tour=\"usage-nav\"]',\r\n      title: 'Monitor Your Usage',\r\n      content: 'Track your daily and monthly API calls here. You get 1,000 calls/day and 10,000/month on the free tier. Upgrade anytime from the billing section.',\r\n      position: 'right',\r\n    },\r\n    {\r\n      id: 'x402-agents',\r\n      targetSelector: '[data-tour=\"agents-nav\"]',\r\n      title: 'x402 AI Agent Payments',\r\n      content: 'Configure AI agents to pay for your API calls automatically using the x402 protocol. Docs: /docs?section=ai-agents',\r\n      position: 'right',\r\n    },\r\n    {\r\n      id: 'api-keys',\r\n      targetSelector: '[data-tour=\"settings-nav\"]',\r\n      title: 'Manage API Keys',\r\n      content: 'Create and manage your API keys here. You can have multiple keys for different applications.',\r\n      position: 'right',\r\n    },\r\n  ],\r\n  'endpoint-creation': [\r\n    {\r\n      id: 'name-field',\r\n      targetSelector: '[data-tour=\"endpoint-name\"]',\r\n      title: 'Name Your Endpoint',\r\n      content: 'Give your endpoint a descriptive name so you can easily identify it later.',\r\n      position: 'right',\r\n    },\r\n    {\r\n      id: 'upstream-url',\r\n      targetSelector: '[data-tour=\"upstream-url\"]',\r\n      title: 'Upstream URL',\r\n      content: 'This is the actual API endpoint that NexFlow will proxy requests to after verifying payment.',\r\n      position: 'right',\r\n    },\r\n    {\r\n      id: 'price-field',\r\n      targetSelector: '[data-tour=\"endpoint-price\"]',\r\n      title: 'Set Your Price',\r\n      content: 'Define how much USDC to charge per API call. This is specified in wei (1 USDC = 1,000,000 wei).',\r\n      position: 'right',\r\n    },\r\n  ],\r\n}\r\n\r\n// Provider component\r\nexport function TooltipProvider({ children }: { children: ReactNode }) {\r\n  const [activeTour, setActiveTour] = useState<string | null>(null)\r\n  const [currentStepIndex, setCurrentStepIndex] = useState(0)\r\n  const [hasSeenTour, setHasSeenTour] = useState<Record<string, boolean>>({})\r\n\r\n  useEffect(() => {\r\n    // Load seen tours from localStorage\r\n    const seen = localStorage.getItem('nexflow_seen_tours')\r\n    if (seen) {\r\n      setHasSeenTour(JSON.parse(seen))\r\n    }\r\n  }, [])\r\n\r\n  const currentTour = activeTour ? TOURS[activeTour] : null\r\n  const currentStep = currentTour?.[currentStepIndex]\r\n\r\n  const startTour = useCallback((tourId: string) => {\r\n    if (TOURS[tourId]) {\r\n      setActiveTour(tourId)\r\n      setCurrentStepIndex(0)\r\n    }\r\n  }, [])\r\n\r\n  const endTour = useCallback(() => {\r\n    if (activeTour) {\r\n      const newSeen = { ...hasSeenTour, [activeTour]: true }\r\n      setHasSeenTour(newSeen)\r\n      localStorage.setItem('nexflow_seen_tours', JSON.stringify(newSeen))\r\n    }\r\n    setActiveTour(null)\r\n    setCurrentStepIndex(0)\r\n  }, [activeTour, hasSeenTour])\r\n\r\n  const skipTour = useCallback(() => {\r\n    endTour()\r\n  }, [endTour])\r\n\r\n  const nextStep = useCallback(() => {\r\n    if (currentTour && currentStepIndex < currentTour.length - 1) {\r\n      setCurrentStepIndex(prev => prev + 1)\r\n    } else {\r\n      endTour()\r\n    }\r\n  }, [currentTour, currentStepIndex, endTour])\r\n\r\n  const prevStep = useCallback(() => {\r\n    if (currentStepIndex > 0) {\r\n      setCurrentStepIndex(prev => prev - 1)\r\n    }\r\n  }, [currentStepIndex])\r\n\r\n  return (\r\n    <TooltipContext.Provider\r\n      value={{\r\n        isActive: !!activeTour,\r\n        currentStep: currentStepIndex + 1,\r\n        totalSteps: currentTour?.length || 0,\r\n        startTour,\r\n        endTour,\r\n        nextStep,\r\n        prevStep,\r\n        skipTour,\r\n      }}\r\n    >\r\n      {children}\r\n      {currentStep && (\r\n        <TooltipOverlay\r\n          step={currentStep}\r\n          stepNumber={currentStepIndex + 1}\r\n          totalSteps={currentTour!.length}\r\n          onNext={nextStep}\r\n          onPrev={prevStep}\r\n          onSkip={skipTour}\r\n          isFirst={currentStepIndex === 0}\r\n          isLast={currentStepIndex === currentTour!.length - 1}\r\n        />\r\n      )}\r\n    </TooltipContext.Provider>\r\n  )\r\n}\r\n\r\n// Overlay and tooltip display\r\nfunction TooltipOverlay({\r\n  step,\r\n  stepNumber,\r\n  totalSteps,\r\n  onNext,\r\n  onPrev,\r\n  onSkip,\r\n  isFirst,\r\n  isLast,\r\n}: {\r\n  step: TooltipStep\r\n  stepNumber: number\r\n  totalSteps: number\r\n  onNext: () => void\r\n  onPrev: () => void\r\n  onSkip: () => void\r\n  isFirst: boolean\r\n  isLast: boolean\r\n}) {\r\n  const [position, setPosition] = useState({ top: 0, left: 0 })\r\n  const [targetRect, setTargetRect] = useState<DOMRect | null>(null)\r\n\r\n  useEffect(() => {\r\n    const updatePosition = () => {\r\n      const target = document.querySelector(step.targetSelector)\r\n      if (target) {\r\n        const rect = target.getBoundingClientRect()\r\n        setTargetRect(rect)\r\n        \r\n        const padding = step.highlightPadding || 8\r\n        let top = 0\r\n        let left = 0\r\n        \r\n        switch (step.position) {\r\n          case 'bottom':\r\n            top = rect.bottom + padding + 12\r\n            left = rect.left + rect.width / 2\r\n            break\r\n          case 'top':\r\n            top = rect.top - padding - 12\r\n            left = rect.left + rect.width / 2\r\n            break\r\n          case 'left':\r\n            top = rect.top + rect.height / 2\r\n            left = rect.left - padding - 12\r\n            break\r\n          case 'right':\r\n            top = rect.top + rect.height / 2\r\n            left = rect.right + padding + 12\r\n            break\r\n        }\r\n        \r\n        setPosition({ top, left })\r\n      }\r\n    }\r\n\r\n    updatePosition()\r\n    window.addEventListener('resize', updatePosition)\r\n    window.addEventListener('scroll', updatePosition)\r\n    \r\n    return () => {\r\n      window.removeEventListener('resize', updatePosition)\r\n      window.removeEventListener('scroll', updatePosition)\r\n    }\r\n  }, [step])\r\n\r\n  const padding = step.highlightPadding || 8\r\n\r\n  return (\r\n    <>\r\n      {/* Dark overlay with spotlight */}\r\n      <div className=\"fixed inset-0 z-[9998] pointer-events-none\">\r\n        <svg className=\"w-full h-full\">\r\n          <defs>\r\n            <mask id=\"spotlight-mask\">\r\n              <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"white\" />\r\n              {targetRect && (\r\n                <rect\r\n                  x={targetRect.left - padding}\r\n                  y={targetRect.top - padding}\r\n                  width={targetRect.width + padding * 2}\r\n                  height={targetRect.height + padding * 2}\r\n                  rx=\"8\"\r\n                  fill=\"black\"\r\n                />\r\n              )}\r\n            </mask>\r\n          </defs>\r\n          <rect\r\n            x=\"0\"\r\n            y=\"0\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            fill=\"rgba(0, 0, 0, 0.75)\"\r\n            mask=\"url(#spotlight-mask)\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      {/* Highlight border around target */}\r\n      {targetRect && (\r\n        <div\r\n          className=\"fixed z-[9999] pointer-events-none rounded-lg border-2 border-lime-400 shadow-[0_0_20px_rgba(163,230,53,0.3)]\"\r\n          style={{\r\n            top: targetRect.top - padding,\r\n            left: targetRect.left - padding,\r\n            width: targetRect.width + padding * 2,\r\n            height: targetRect.height + padding * 2,\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Tooltip card */}\r\n      <div\r\n        className=\"fixed z-[10000] w-80 bg-gray-900 border border-gray-700 rounded-xl shadow-2xl\"\r\n        style={{\r\n          top: position.top,\r\n          left: position.left,\r\n          transform: getTransform(step.position),\r\n        }}\r\n      >\r\n        {/* Arrow */}\r\n        <div\r\n          className={`absolute w-3 h-3 bg-gray-900 border-gray-700 transform rotate-45 ${getArrowClasses(step.position)}`}\r\n        />\r\n        \r\n        <div className=\"p-4\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-lime-400\" />\r\n              <span className=\"text-xs text-gray-500\">\r\n                Step {stepNumber} of {totalSteps}\r\n              </span>\r\n            </div>\r\n            <button\r\n              onClick={onSkip}\r\n              className=\"text-gray-500 hover:text-gray-300 transition-colors\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <h4 className=\"font-semibold text-white mb-2\">{step.title}</h4>\r\n          <p className=\"text-sm text-gray-400 mb-4\">{step.content}</p>\r\n\r\n          {/* Navigation */}\r\n          <div className=\"flex items-center justify-between\">\r\n            <button\r\n              onClick={onSkip}\r\n              className=\"text-sm text-gray-500 hover:text-gray-300\"\r\n            >\r\n              Skip tour\r\n            </button>\r\n            <div className=\"flex gap-2\">\r\n              {!isFirst && (\r\n                <button\r\n                  onClick={onPrev}\r\n                  className=\"px-3 py-1.5 text-sm bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 flex items-center gap-1\"\r\n                >\r\n                  <ArrowLeft className=\"w-3 h-3\" /> Back\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={onNext}\r\n                className=\"px-3 py-1.5 text-sm bg-lime-400 text-gray-900 rounded-lg hover:bg-lime-300 font-medium flex items-center gap-1\"\r\n              >\r\n                {isLast ? 'Finish' : 'Next'} <ArrowRight className=\"w-3 h-3\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Progress dots */}\r\n        <div className=\"flex justify-center gap-1.5 pb-3\">\r\n          {Array.from({ length: totalSteps }).map((_, i) => (\r\n            <div\r\n              key={i}\r\n              className={`w-1.5 h-1.5 rounded-full transition-colors ${\r\n                i === stepNumber - 1 ? 'bg-lime-400' : 'bg-gray-700'\r\n              }`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// Helper functions\r\nfunction getTransform(position: string): string {\r\n  switch (position) {\r\n    case 'bottom':\r\n      return 'translateX(-50%)'\r\n    case 'top':\r\n      return 'translateX(-50%) translateY(-100%)'\r\n    case 'left':\r\n      return 'translateX(-100%) translateY(-50%)'\r\n    case 'right':\r\n      return 'translateY(-50%)'\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nfunction getArrowClasses(position: string): string {\r\n  switch (position) {\r\n    case 'bottom':\r\n      return '-top-1.5 left-1/2 -translate-x-1/2 border-t border-l'\r\n    case 'top':\r\n      return '-bottom-1.5 left-1/2 -translate-x-1/2 border-b border-r'\r\n    case 'left':\r\n      return '-right-1.5 top-1/2 -translate-y-1/2 border-t border-r'\r\n    case 'right':\r\n      return '-left-1.5 top-1/2 -translate-y-1/2 border-b border-l'\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\n// Start Tour Button component\r\nexport function StartTourButton({ tourId, label = 'Take a Tour' }: { tourId: string; label?: string }) {\r\n  const { startTour, isActive } = useTooltipTour()\r\n\r\n  if (isActive) return null\r\n\r\n  return (\r\n    <button\r\n      onClick={() => startTour(tourId)}\r\n      className=\"flex items-center gap-2 px-3 py-1.5 text-sm bg-lime-400/10 text-lime-400 border border-lime-400/30 rounded-lg hover:bg-lime-400/20 transition-colors\"\r\n    >\r\n      <Sparkles className=\"w-4 h-4\" />\r\n      {label}\r\n    </button>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/app/dashboard/layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { \r\n  Zap, \r\n  Server, \r\n  Key, \r\n  BarChart3,\r\n  DollarSign,\r\n  Activity,\r\n  Webhook,\r\n  LogOut,\r\n  AlertCircle,\r\n  Gauge,\r\n  Settings,\r\n  Calendar\r\n} from 'lucide-react'\r\nimport { TooltipProvider } from '@/components/OnboardingTooltip'\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const pathname = usePathname()\r\n  const [apiKey, setApiKey] = useState<string | null>(null)\r\n  const [checking, setChecking] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const storedKey = localStorage.getItem('api_key')\r\n      setApiKey(storedKey)\r\n      setChecking(false)\r\n    }\r\n  }, [])\r\n\r\n  const navItems = [\r\n    { href: '/dashboard', label: 'Endpoints', icon: Server, exact: true, tourId: 'endpoints-nav' },\r\n    { href: '/dashboard/metered', label: 'Metered', icon: DollarSign, tourId: 'metered-nav' },\r\n    { href: '/dashboard/usage', label: 'Usage', icon: Gauge, tourId: 'usage-nav' },\r\n    { href: '/dashboard/agents', label: 'x402 Agents', icon: Zap, tourId: 'agents-nav' },\r\n    { href: '/dashboard/analytics', label: 'Analytics', icon: BarChart3 },\r\n    { href: '/dashboard/monitoring', label: 'Monitoring', icon: Activity },\r\n    { href: '/dashboard/cron-jobs', label: 'Scheduled Jobs', icon: Calendar },\r\n    { href: '/dashboard/webhooks', label: 'Webhooks', icon: Webhook },\r\n    { href: '/dashboard/keys', label: 'API Keys', icon: Key, tourId: 'settings-nav' },\r\n  ]\r\n\r\n  const isActive = (href: string, exact?: boolean) => {\r\n    if (exact) {\r\n      return pathname === href\r\n    }\r\n    return pathname?.startsWith(href)\r\n  }\r\n\r\n  if (checking) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-950 text-white flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-lime-400\"></div>\r\n          <p className=\"mt-4 text-gray-400\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!apiKey) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-950 text-white flex items-center justify-center\">\r\n        <div className=\"max-w-md w-full p-8 bg-gray-900 rounded-lg border border-gray-800\">\r\n          <AlertCircle className=\"w-12 h-12 text-yellow-400 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold mb-4 text-center\">API Key Required</h2>\r\n          <p className=\"text-gray-400 mb-6 text-center\">\r\n            Please set your API key to access the dashboard.\r\n          </p>\r\n          <div className=\"space-y-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter your API key (nf_live_...)\"\r\n              className=\"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-lime-400\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  const value = (e.target as HTMLInputElement).value\r\n                  if (value) {\r\n                    localStorage.setItem('api_key', value)\r\n                    setApiKey(value)\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <button\r\n              onClick={() => {\r\n                const input = document.querySelector('input') as HTMLInputElement\r\n                if (input?.value) {\r\n                  localStorage.setItem('api_key', input.value)\r\n                  setApiKey(input.value)\r\n                }\r\n              }}\r\n              className=\"w-full px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors\"\r\n            >\r\n              Set API Key\r\n            </button>\r\n            <p className=\"text-xs text-gray-500 text-center\">\r\n              Don't have an API key?{' '}\r\n              <Link href=\"/dashboard/keys\" className=\"text-lime-400 hover:text-lime-300\">\r\n                Create one here\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <TooltipProvider>\r\n      <div className=\"min-h-screen bg-gray-950 text-white\">\r\n        {/* Navigation */}\r\n        <nav className=\"sticky top-0 z-50 border-b border-gray-800 bg-gray-950/80 backdrop-blur-xl\">\r\n          <div className=\"max-w-7xl mx-auto px-4\">\r\n            <div className=\"flex items-center justify-between h-16\" data-tour=\"dashboard-header\">\r\n              <Link href=\"/\" className=\"flex items-center gap-2\">\r\n                <div className=\"w-8 h-8 rounded-lg bg-lime-400 flex items-center justify-center\">\r\n                  <Zap className=\"w-5 h-5 text-gray-900\" />\r\n                </div>\r\n                <span className=\"text-lg font-bold text-white\">NexFlow</span>\r\n              </Link>\r\n              <div className=\"flex items-center gap-4\">\r\n                {apiKey && (\r\n                  <span className=\"text-sm text-gray-400\">\r\n                    {apiKey.substring(0, 20)}...\r\n                  </span>\r\n                )}\r\n                <button\r\n                  onClick={() => {\r\n                    localStorage.removeItem('api_key')\r\n                    window.location.reload()\r\n                  }}\r\n                  className=\"flex items-center gap-2 px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                  <LogOut className=\"w-4 h-4\" />\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n          <div className=\"flex gap-8\">\r\n            {/* Sidebar */}\r\n            <aside className=\"w-64 flex-shrink-0\">\r\n              <nav className=\"space-y-1\">\r\n                {navItems.map((item) => {\r\n                  const Icon = item.icon\r\n                  const active = isActive(item.href, item.exact)\r\n                  return (\r\n                    <Link\r\n                      key={item.href}\r\n                      href={item.href}\r\n                      data-tour={item.tourId}\r\n                      className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\r\n                        active\r\n                          ? 'bg-gray-800 text-lime-400'\r\n                          : 'text-gray-400 hover:text-white hover:bg-gray-900'\r\n                      }`}\r\n                    >\r\n                      <Icon className=\"w-5 h-5\" />\r\n                      <span className=\"font-medium\">{item.label}</span>\r\n                    </Link>\r\n                  )\r\n                })}\r\n              </nav>\r\n            </aside>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"flex-1 min-w-0\">\r\n              {children}\r\n            </main>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </TooltipProvider>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAnBA;;;;;;;AAqBe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR;;IAKF,GAAG,EAAE;IAEL,MAAM,WAAW;QACf;YAAE,MAAM;YAAc,OAAO;YAAa,MAAM,gNAAM;YAAE,OAAO;YAAM,QAAQ;QAAgB;QAC7F;YAAE,MAAM;YAAsB,OAAO;YAAW,MAAM,gOAAU;YAAE,QAAQ;QAAc;QACxF;YAAE,MAAM;YAAoB,OAAO;YAAS,MAAM,6MAAK;YAAE,QAAQ;QAAY;QAC7E;YAAE,MAAM;YAAqB,OAAO;YAAe,MAAM,uMAAG;YAAE,QAAQ;QAAa;QACnF;YAAE,MAAM;YAAwB,OAAO;YAAa,MAAM,+NAAS;QAAC;QACpE;YAAE,MAAM;YAAyB,OAAO;YAAc,MAAM,sNAAQ;QAAC;QACrE;YAAE,MAAM;YAAwB,OAAO;YAAkB,MAAM,sNAAQ;QAAC;QACxE;YAAE,MAAM;YAAuB,OAAO;YAAY,MAAM,mNAAO;QAAC;QAChE;YAAE,MAAM;YAAmB,OAAO;YAAY,MAAM,uMAAG;YAAE,QAAQ;QAAe;KACjF;IAED,MAAM,WAAW,CAAC,MAAc;QAC9B,IAAI,OAAO;YACT,OAAO,aAAa;QACtB;QACA,OAAO,UAAU,WAAW;IAC9B;IAEA,IAAI,UAAU;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,QAAQ;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,mOAAW;wBAAC,WAAU;;;;;;kCACvB,8OAAC;wBAAG,WAAU;kCAAsC;;;;;;kCACpD,8OAAC;wBAAE,WAAU;kCAAiC;;;;;;kCAG9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,WAAU;gCACV,WAAW,CAAC;oCACV,IAAI,EAAE,GAAG,KAAK,SAAS;wCACrB,MAAM,QAAQ,AAAC,EAAE,MAAM,CAAsB,KAAK;wCAClD,IAAI,OAAO;4CACT,aAAa,OAAO,CAAC,WAAW;4CAChC,UAAU;wCACZ;oCACF;gCACF;;;;;;0CAEF,8OAAC;gCACC,SAAS;oCACP,MAAM,QAAQ,SAAS,aAAa,CAAC;oCACrC,IAAI,OAAO,OAAO;wCAChB,aAAa,OAAO,CAAC,WAAW,MAAM,KAAK;wCAC3C,UAAU,MAAM,KAAK;oCACvB;gCACF;gCACA,WAAU;0CACX;;;;;;0CAGD,8OAAC;gCAAE,WAAU;;oCAAoC;oCACxB;kDACvB,8OAAC,uKAAI;wCAAC,MAAK;wCAAkB,WAAU;kDAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQvF;IAEA,qBACE,8OAAC,0JAAe;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;4BAAyC,aAAU;;8CAChE,8OAAC,uKAAI;oCAAC,MAAK;oCAAI,WAAU;;sDACvB,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC,uMAAG;gDAAC,WAAU;;;;;;;;;;;sDAEjB,8OAAC;4CAAK,WAAU;sDAA+B;;;;;;;;;;;;8CAEjD,8OAAC;oCAAI,WAAU;;wCACZ,wBACC,8OAAC;4CAAK,WAAU;;gDACb,OAAO,SAAS,CAAC,GAAG;gDAAI;;;;;;;sDAG7B,8OAAC;4CACC,SAAS;gDACP,aAAa,UAAU,CAAC;gDACxB,OAAO,QAAQ,CAAC,MAAM;4CACxB;4CACA,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAQxC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAM,WAAU;0CACf,cAAA,8OAAC;oCAAI,WAAU;8CACZ,SAAS,GAAG,CAAC,CAAC;wCACb,MAAM,OAAO,KAAK,IAAI;wCACtB,MAAM,SAAS,SAAS,KAAK,IAAI,EAAE,KAAK,KAAK;wCAC7C,qBACE,8OAAC,uKAAI;4CAEH,MAAM,KAAK,IAAI;4CACf,aAAW,KAAK,MAAM;4CACtB,WAAW,CAAC,+DAA+D,EACzE,SACI,8BACA,oDACJ;;8DAEF,8OAAC;oDAAK,WAAU;;;;;;8DAChB,8OAAC;oDAAK,WAAU;8DAAe,KAAK,KAAK;;;;;;;2CAVpC,KAAK,IAAI;;;;;oCAapB;;;;;;;;;;;0CAKJ,8OAAC;gCAAK,WAAU;0CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOf"}}]
}