{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/app/dashboard/layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { \r\n  Zap, \r\n  Server, \r\n  Key, \r\n  BarChart3,\r\n  DollarSign,\r\n  Activity,\r\n  Webhook,\r\n  LogOut,\r\n  AlertCircle\r\n} from 'lucide-react'\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const pathname = usePathname()\r\n  const [apiKey, setApiKey] = useState<string | null>(null)\r\n  const [checking, setChecking] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const storedKey = localStorage.getItem('api_key')\r\n      setApiKey(storedKey)\r\n      setChecking(false)\r\n    }\r\n  }, [])\r\n\r\n  const navItems = [\r\n    { href: '/dashboard', label: 'Endpoints', icon: Server, exact: true },\r\n    { href: '/dashboard/agents', label: 'x402 Agents', icon: Zap },\r\n    { href: '/dashboard/analytics', label: 'Analytics', icon: BarChart3 },\r\n    { href: '/dashboard/billing', label: 'Billing', icon: DollarSign },\r\n    { href: '/dashboard/monitoring', label: 'Monitoring', icon: Activity },\r\n    { href: '/dashboard/webhooks', label: 'Webhooks', icon: Webhook },\r\n    { href: '/dashboard/keys', label: 'API Keys', icon: Key },\r\n  ]\r\n\r\n  const isActive = (href: string, exact?: boolean) => {\r\n    if (exact) {\r\n      return pathname === href\r\n    }\r\n    return pathname?.startsWith(href)\r\n  }\r\n\r\n  if (checking) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-950 text-white flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-lime-400\"></div>\r\n          <p className=\"mt-4 text-gray-400\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!apiKey) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-950 text-white flex items-center justify-center\">\r\n        <div className=\"max-w-md w-full p-8 bg-gray-900 rounded-lg border border-gray-800\">\r\n          <AlertCircle className=\"w-12 h-12 text-yellow-400 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold mb-4 text-center\">API Key Required</h2>\r\n          <p className=\"text-gray-400 mb-6 text-center\">\r\n            Please set your API key to access the dashboard.\r\n          </p>\r\n          <div className=\"space-y-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter your API key (nf_live_...)\"\r\n              className=\"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-lime-400\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  const value = (e.target as HTMLInputElement).value\r\n                  if (value) {\r\n                    localStorage.setItem('api_key', value)\r\n                    setApiKey(value)\r\n                  }\r\n                }\r\n              }}\r\n            />\r\n            <button\r\n              onClick={() => {\r\n                const input = document.querySelector('input') as HTMLInputElement\r\n                if (input?.value) {\r\n                  localStorage.setItem('api_key', input.value)\r\n                  setApiKey(input.value)\r\n                }\r\n              }}\r\n              className=\"w-full px-4 py-2 bg-lime-400 text-gray-900 rounded-lg font-medium hover:bg-lime-300 transition-colors\"\r\n            >\r\n              Set API Key\r\n            </button>\r\n            <p className=\"text-xs text-gray-500 text-center\">\r\n              Don't have an API key?{' '}\r\n              <Link href=\"/dashboard/keys\" className=\"text-lime-400 hover:text-lime-300\">\r\n                Create one here\r\n              </Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-950 text-white\">\r\n      {/* Navigation */}\r\n      <nav className=\"sticky top-0 z-50 border-b border-gray-800 bg-gray-950/80 backdrop-blur-xl\">\r\n        <div className=\"max-w-7xl mx-auto px-4\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <Link href=\"/\" className=\"flex items-center gap-2\">\r\n              <div className=\"w-8 h-8 rounded-lg bg-lime-400 flex items-center justify-center\">\r\n                <Zap className=\"w-5 h-5 text-gray-900\" />\r\n              </div>\r\n              <span className=\"text-lg font-bold text-white\">NexFlow</span>\r\n            </Link>\r\n            <div className=\"flex items-center gap-4\">\r\n              {apiKey && (\r\n                <span className=\"text-sm text-gray-400\">\r\n                  {apiKey.substring(0, 20)}...\r\n                </span>\r\n              )}\r\n              <button\r\n                onClick={() => {\r\n                  localStorage.removeItem('api_key')\r\n                  window.location.reload()\r\n                }}\r\n                className=\"flex items-center gap-2 px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors\"\r\n              >\r\n                <LogOut className=\"w-4 h-4\" />\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        <div className=\"flex gap-8\">\r\n          {/* Sidebar */}\r\n          <aside className=\"w-64 flex-shrink-0\">\r\n            <nav className=\"space-y-1\">\r\n              {navItems.map((item) => {\r\n                const Icon = item.icon\r\n                const active = isActive(item.href, item.exact)\r\n                return (\r\n                  <Link\r\n                    key={item.href}\r\n                    href={item.href}\r\n                    className={`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\r\n                      active\r\n                        ? 'bg-gray-800 text-lime-400'\r\n                        : 'text-gray-400 hover:text-white hover:bg-gray-900'\r\n                    }`}\r\n                  >\r\n                    <Icon className=\"w-5 h-5\" />\r\n                    <span className=\"font-medium\">{item.label}</span>\r\n                  </Link>\r\n                )\r\n              })}\r\n            </nav>\r\n          </aside>\r\n\r\n          {/* Main Content */}\r\n          <main className=\"flex-1 min-w-0\">\r\n            {children}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}