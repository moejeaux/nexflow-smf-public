{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/lib/api-client.ts"],"sourcesContent":["// =============================================================================\r\n// API Client for Dashboard\r\n// =============================================================================\r\n// Client-side utilities for calling the API from React components\r\n\r\n// Use relative URLs when running on same domain, absolute when different\r\nconst API_BASE_URL = typeof window !== 'undefined' \r\n  ? (process.env.NEXT_PUBLIC_API_URL || '') // Empty string = same origin\r\n  : 'http://localhost:3001';\r\n\r\nexport class ApiError extends Error {\r\n  constructor(\r\n    public status: number,\r\n    public code: string,\r\n    message: string,\r\n    public details?: any\r\n  ) {\r\n    super(message);\r\n    this.name = 'ApiError';\r\n  }\r\n}\r\n\r\nasync function apiRequest<T>(\r\n  endpoint: string,\r\n  options: RequestInit = {}\r\n): Promise<T> {\r\n  const apiKey = typeof window !== 'undefined' ? localStorage.getItem('api_key') : null;\r\n  \r\n  if (!apiKey) {\r\n    throw new ApiError(401, 'UNAUTHORIZED', 'API key not found. Please set your API key in settings.');\r\n  }\r\n\r\n  // Use relative URL when in browser (same origin), absolute when in server\r\n  const url = typeof window !== 'undefined' \r\n    ? endpoint  // Relative URL - same origin\r\n    : `${API_BASE_URL}${endpoint}`;  // Absolute URL for server-side\r\n\r\n  const response = await fetch(url, {\r\n    ...options,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'x-api-key': apiKey, // Use x-api-key header (standard for NexFlow)\r\n      ...options.headers,\r\n    },\r\n  });\r\n\r\n  const data = await response.json().catch(() => ({}));\r\n\r\n  if (!response.ok) {\r\n    throw new ApiError(\r\n      response.status,\r\n      data.code || 'UNKNOWN_ERROR',\r\n      data.error || data.message || `Request failed with status ${response.status}`,\r\n      data.details\r\n    );\r\n  }\r\n\r\n  return data;\r\n}\r\n\r\n// Endpoints API\r\nexport const endpointsApi = {\r\n  list: () => apiRequest<{ success: boolean; endpoints: any[] }>('/api/v1/endpoints'),\r\n  get: (id: string) => apiRequest<{ success: boolean; endpoint: any }>(`/api/v1/endpoints/${id}`),\r\n  create: (data: {\r\n    name: string;\r\n    description?: string;\r\n    upstreamUrl: string;\r\n    price: string;\r\n    network?: string;\r\n    tokenAddress?: string;\r\n    tokenSymbol?: string;\r\n    chainId?: number;\r\n    recipientAddress: string;\r\n  }) => apiRequest<{ success: boolean; endpoint: any }>('/api/v1/endpoints', {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n  }),\r\n  update: (id: string, data: Partial<any>) => apiRequest<{ success: boolean; endpoint: any }>(`/api/v1/endpoints/${id}`, {\r\n    method: 'PATCH',\r\n    body: JSON.stringify(data),\r\n  }),\r\n  delete: (id: string) => apiRequest<{ success: boolean }>(`/api/v1/endpoints/${id}`, {\r\n    method: 'DELETE',\r\n  }),\r\n  getStats: (id: string) => apiRequest<{ success: boolean; stats: any; recentPayments: any[] }>(`/api/v1/endpoints/${id}/stats`),\r\n};\r\n\r\n// API Keys API\r\nexport const apiKeysApi = {\r\n  list: () => apiRequest<{ success: boolean; apiKeys: any[] }>('/api/v1/auth/keys'),\r\n  create: (data: { name: string; role?: string; rateLimit?: number }) => \r\n    apiRequest<{ success: boolean; apiKey: any; token: string }>('/api/v1/auth/keys', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    }),\r\n  revoke: (id: string) => apiRequest<{ success: boolean }>(`/api/v1/auth/keys/${id}`, {\r\n    method: 'DELETE',\r\n  }),\r\n};\r\n\r\n// Analytics API\r\nexport const analyticsApi = {\r\n  getEndpointAnalytics: (endpointId: string, params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    granularity?: 'hour' | 'day' | 'week';\r\n    includeDetails?: boolean;\r\n  }) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (params?.startDate) searchParams.set('startDate', params.startDate);\r\n    if (params?.endDate) searchParams.set('endDate', params.endDate);\r\n    if (params?.granularity) searchParams.set('granularity', params.granularity);\r\n    if (params?.includeDetails) searchParams.set('includeDetails', 'true');\r\n    const query = searchParams.toString();\r\n    return apiRequest<any>(`/api/v1/metered/${endpointId}/analytics${query ? `?${query}` : ''}`);\r\n  },\r\n};\r\n\r\n// Billing API\r\nexport const billingApi = {\r\n  getUsage: (params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    periodType?: 'daily' | 'weekly' | 'monthly';\r\n    customerId?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (params?.startDate) searchParams.set('startDate', params.startDate);\r\n    if (params?.endDate) searchParams.set('endDate', params.endDate);\r\n    if (params?.periodType) searchParams.set('periodType', params.periodType);\r\n    if (params?.customerId) searchParams.set('customerId', params.customerId);\r\n    const query = searchParams.toString();\r\n    return apiRequest<any>(`/api/v1/billing/usage${query ? `?${query}` : ''}`);\r\n  },\r\n  getReport: (params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    periodType?: 'daily' | 'weekly' | 'monthly';\r\n    endpointIds?: string[];\r\n  }) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (params?.startDate) searchParams.set('startDate', params.startDate);\r\n    if (params?.endDate) searchParams.set('endDate', params.endDate);\r\n    if (params?.periodType) searchParams.set('periodType', params.periodType);\r\n    if (params?.endpointIds) searchParams.set('endpointIds', params.endpointIds.join(','));\r\n    const query = searchParams.toString();\r\n    return apiRequest<any>(`/api/v1/billing/report${query ? `?${query}` : ''}`);\r\n  },\r\n  getInvoice: (params?: {\r\n    startDate?: string;\r\n    endDate?: string;\r\n    periodType?: 'daily' | 'weekly' | 'monthly';\r\n    customerId?: string;\r\n  }) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (params?.startDate) searchParams.set('startDate', params.startDate);\r\n    if (params?.endDate) searchParams.set('endDate', params.endDate);\r\n    if (params?.periodType) searchParams.set('periodType', params.periodType);\r\n    if (params?.customerId) searchParams.set('customerId', params.customerId);\r\n    const query = searchParams.toString();\r\n    return apiRequest<any>(`/api/v1/billing/invoice${query ? `?${query}` : ''}`);\r\n  },\r\n};\r\n\r\n// Monitoring API\r\nexport const monitoringApi = {\r\n  getMetrics: (params?: {\r\n    name?: string;\r\n    startTime?: number;\r\n    endTime?: number;\r\n    tags?: Record<string, string>;\r\n    recent?: boolean;\r\n    limit?: number;\r\n  }) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (params?.name) searchParams.set('name', params.name);\r\n    if (params?.startTime) searchParams.set('startTime', params.startTime.toString());\r\n    if (params?.endTime) searchParams.set('endTime', params.endTime.toString());\r\n    if (params?.tags) searchParams.set('tags', JSON.stringify(params.tags));\r\n    if (params?.recent) searchParams.set('recent', 'true');\r\n    if (params?.limit) searchParams.set('limit', params.limit.toString());\r\n    const query = searchParams.toString();\r\n    return apiRequest<any>(`/api/v1/monitoring/metrics${query ? `?${query}` : ''}`);\r\n  },\r\n  getAlerts: (includeRules?: boolean) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (includeRules !== false) searchParams.set('includeRules', 'true');\r\n    return apiRequest<any>(`/api/v1/monitoring/alerts?${searchParams.toString()}`);\r\n  },\r\n  createAlertRule: (data: {\r\n    name: string;\r\n    metricName: string;\r\n    condition: 'gt' | 'gte' | 'lt' | 'lte' | 'eq';\r\n    threshold: number;\r\n    windowMs: number;\r\n    tags?: Record<string, string>;\r\n    enabled?: boolean;\r\n    severity?: 'info' | 'warning' | 'error' | 'critical';\r\n  }) => apiRequest<any>('/api/v1/monitoring/alerts', {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n  }),\r\n  deleteAlertRule: (ruleId: string) => apiRequest<{ success: boolean }>(`/api/v1/monitoring/alerts/${ruleId}`, {\r\n    method: 'DELETE',\r\n  }),\r\n};\r\n\r\n// Webhooks API\r\nexport const webhooksApi = {\r\n  list: (endpointId?: string) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (endpointId) searchParams.set('endpointId', endpointId);\r\n    const query = searchParams.toString();\r\n    return apiRequest<{ webhooks: any[]; count: number }>(`/api/v1/webhooks${query ? `?${query}` : ''}`);\r\n  },\r\n  create: (data: {\r\n    url: string;\r\n    events: string[];\r\n    endpointId?: string;\r\n    enabled?: boolean;\r\n  }) => apiRequest<any>('/api/v1/webhooks', {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n  }),\r\n  update: (id: string, data: {\r\n    url?: string;\r\n    events?: string[];\r\n    enabled?: boolean;\r\n  }) => apiRequest<any>(`/api/v1/webhooks/${id}`, {\r\n    method: 'PATCH',\r\n    body: JSON.stringify(data),\r\n  }),\r\n  delete: (id: string) => apiRequest<{ success: boolean }>(`/api/v1/webhooks/${id}`, {\r\n    method: 'DELETE',\r\n  }),\r\n};\r\n\r\n// Health check\r\nexport const healthApi = {\r\n  check: () => apiRequest<{ healthy: boolean }>('/api/x402/health'),\r\n};\r\n\r\n// Usage API\r\nexport const usageApi = {\r\n  getSummary: () => apiRequest<{\r\n    plan: { name: string; dailyLimit: number; monthlyLimit: number };\r\n    today: { used: number; remaining: number };\r\n    month: { used: number; remaining: number };\r\n    account: { id: string; email: string; status: string };\r\n  }>('/api/v1/me/usage-summary'),\r\n};\r\n\r\n// Auth API (public, no API key required)\r\nexport const authApi = {\r\n  signup: async (data: { email: string; password: string; name?: string }) => {\r\n    const response = await fetch('/api/v1/auth/signup', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data),\r\n    });\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n      throw new ApiError(\r\n        response.status,\r\n        result.code || 'UNKNOWN_ERROR',\r\n        result.error || 'Signup failed',\r\n        result.details\r\n      );\r\n    }\r\n    return result as {\r\n      success: boolean;\r\n      accountId: string;\r\n      plan: { name: string; dailyLimit: number; monthlyLimit: number };\r\n      apiKey: { id: string; name: string; token: string };\r\n      message: string;\r\n    };\r\n  },\r\n};\r\n\r\n// Plans API\r\nexport const plansApi = {\r\n  // Get all available plans\r\n  list: () => apiRequest<{\r\n    success: boolean;\r\n    plans: Array<{\r\n      id: string;\r\n      name: string;\r\n      description: string | null;\r\n      dailyLimit: number;\r\n      monthlyLimit: number;\r\n      priceCents: number;\r\n      priceDisplay: string;\r\n      features: string[];\r\n    }>;\r\n  }>('/api/v1/user/plans'),\r\n\r\n  // Get current plan and usage\r\n  current: () => apiRequest<{\r\n    success: boolean;\r\n    account: { id: string; email: string; status: string };\r\n    plan: { id: string; name: string; dailyLimit: number; monthlyLimit: number };\r\n    usage: {\r\n      daily: { used: number; limit: number; remaining: number; percentUsed: number };\r\n      monthly: { used: number; limit: number; remaining: number; percentUsed: number };\r\n    };\r\n    suggestions: { shouldUpgrade: boolean; reason?: string; suggestedPlan?: string };\r\n  }>('/api/v1/user/current-plan'),\r\n\r\n  // Upgrade to a new plan (prototype - no payment)\r\n  upgrade: (planId: 'free' | 'starter' | 'pro' | 'enterprise') => \r\n    apiRequest<{\r\n      success: boolean;\r\n      message: string;\r\n      previousPlan: { id: string; dailyLimit: number; monthlyLimit: number } | null;\r\n      newPlan: { id: string; name: string; dailyLimit: number; monthlyLimit: number; priceCents: number };\r\n      effectiveImmediately: boolean;\r\n    }>('/api/v1/user/upgrade-plan', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ planId }),\r\n    }),\r\n\r\n  // Create USDC payment intent for plan upgrade\r\n  createPaymentIntent: (planId: 'starter' | 'pro') =>\r\n    apiRequest<{\r\n      success: boolean;\r\n      paymentIntent: {\r\n        id: string;\r\n        planId: string;\r\n        amount: { usdc: string; atomic: string; display: string };\r\n        recipient: {\r\n          address: string;\r\n          network: string;\r\n          token: { symbol: string; address: string; decimals: number };\r\n        };\r\n        expiresAt: string;\r\n        expiresInSeconds: number;\r\n      };\r\n      instructions: {\r\n        step1: string;\r\n        step2: string;\r\n        step3: string;\r\n        note: string;\r\n      };\r\n    }>('/api/v1/user/upgrade-plan/payment', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ planId }),\r\n    }),\r\n\r\n  // Verify USDC payment and upgrade plan\r\n  verifyPayment: (paymentIntentId: string, txHash: string) =>\r\n    apiRequest<{\r\n      success: boolean;\r\n      message: string;\r\n      plan: { id: string; name: string; dailyLimit: number; monthlyLimit: number };\r\n      payment: { txHash: string; verifiedAt: string; network: string; basescanUrl: string };\r\n    }>('/api/v1/user/upgrade-plan/payment', {\r\n      method: 'PUT',\r\n      body: JSON.stringify({ paymentIntentId, txHash }),\r\n    }),\r\n\r\n  // Get payment intent status\r\n  getPaymentStatus: (intentId?: string) =>\r\n    apiRequest<{\r\n      success: boolean;\r\n      intent?: {\r\n        id: string;\r\n        planId: string;\r\n        amountUsdc: string;\r\n        status: string;\r\n        txHash?: string;\r\n        expiresAt: string;\r\n      };\r\n      intents?: Array<{\r\n        id: string;\r\n        planId: string;\r\n        amountUsdc: string;\r\n        status: string;\r\n        expiresAt: string;\r\n      }>;\r\n    }>(`/api/v1/user/upgrade-plan/payment${intentId ? `?intentId=${intentId}` : ''}`),\r\n};\r\n\r\n// Cron Jobs API\r\nexport interface CronJobSummary {\r\n  jobId: string;\r\n  displayName: string;\r\n  description: string | null;\r\n  schedule: string | null;\r\n  enabled: boolean;\r\n  timeoutMs: number;\r\n  maxRetries: number;\r\n  alertOnFailure: boolean;\r\n  consecutiveFailures: number;\r\n  lastSuccessAt: string | null;\r\n  lastFailureAt: string | null;\r\n  stats: {\r\n    totalRuns: number;\r\n    successRate: number | null;\r\n    avgDurationMs: number | null;\r\n    recentFailures: number;\r\n  };\r\n  lastRun: {\r\n    id: string;\r\n    status: string;\r\n    startedAt: string;\r\n    completedAt: string | null;\r\n    durationMs: number | null;\r\n    triggerSource: string;\r\n    errorMessage: string | null;\r\n  } | null;\r\n}\r\n\r\nexport interface CronJobRun {\r\n  id: string;\r\n  jobId: string;\r\n  status: 'pending' | 'running' | 'completed' | 'failed' | 'timeout';\r\n  startedAt: string;\r\n  completedAt: string | null;\r\n  durationMs: number | null;\r\n  triggerSource: 'cron' | 'manual' | 'retry';\r\n  attemptNumber: number;\r\n  errorMessage: string | null;\r\n  outputSummary: Record<string, any> | null;\r\n  metadata: Record<string, any> | null;\r\n}\r\n\r\nexport interface CronJobsResponse {\r\n  success: boolean;\r\n  summary: {\r\n    totalJobs: number;\r\n    activeJobs: number;\r\n    runningJobs: number;\r\n    recentlyFailed: number;\r\n    failingJobsCount: number;\r\n  };\r\n  jobs: CronJobSummary[];\r\n  recentRuns?: CronJobRun[];\r\n  failingJobs?: { jobId: string; displayName: string; consecutiveFailures: number; lastFailureAt: string | null }[];\r\n}\r\n\r\nexport const cronJobsApi = {\r\n  // Get all cron jobs with stats\r\n  list: (params?: { \r\n    jobId?: string; \r\n    limit?: number; \r\n    includeRuns?: boolean; \r\n    onlyFailing?: boolean;\r\n  }) => {\r\n    const searchParams = new URLSearchParams();\r\n    if (params?.jobId) searchParams.set('jobId', params.jobId);\r\n    if (params?.limit) searchParams.set('limit', params.limit.toString());\r\n    if (params?.includeRuns === false) searchParams.set('includeRuns', 'false');\r\n    if (params?.onlyFailing) searchParams.set('onlyFailing', 'true');\r\n    const query = searchParams.toString();\r\n    return apiRequest<CronJobsResponse>(`/api/v1/cron-jobs${query ? `?${query}` : ''}`);\r\n  },\r\n\r\n  // Manually trigger a job\r\n  trigger: (jobId: string) =>\r\n    apiRequest<{ success: boolean; jobId: string; triggeredAt: string; response: any }>(\r\n      '/api/v1/cron-jobs',\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify({ jobId }),\r\n      }\r\n    ),\r\n};\r\n\r\n// Onboarding API\r\nexport interface OnboardingStep {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  action?: string;\r\n  link?: string;\r\n  docs?: string;\r\n  completed: boolean;\r\n  completedAt: string | null;\r\n  autoComplete?: boolean;\r\n}\r\n\r\nexport interface OnboardingResponse {\r\n  success: boolean;\r\n  onboarding: {\r\n    isNewUser: boolean;\r\n    showChecklist: boolean;\r\n    progress: { completed: number; total: number; percent: number };\r\n    checklist: OnboardingStep[];\r\n    allComplete: boolean;\r\n    dismissedAt: string | null;\r\n  };\r\n  account: { name: string | null; createdAt: string };\r\n}\r\n\r\nexport const onboardingApi = {\r\n  // Get onboarding status and checklist\r\n  getStatus: () => apiRequest<OnboardingResponse>('/api/v1/user/onboarding'),\r\n\r\n  // Mark a step as complete\r\n  completeStep: (stepId: string) =>\r\n    apiRequest<{ success: boolean; message: string; stepId: string }>('/api/v1/user/onboarding', {\r\n      method: 'PUT',\r\n      body: JSON.stringify({ stepId }),\r\n    }),\r\n\r\n  // Dismiss onboarding checklist\r\n  dismiss: () =>\r\n    apiRequest<{ success: boolean; message: string }>('/api/v1/user/onboarding', {\r\n      method: 'PUT',\r\n      body: JSON.stringify({ dismiss: true }),\r\n    }),\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA,gFAAgF;AAChF,2BAA2B;AAC3B,gFAAgF;AAChF,kEAAkE;AAElE,yEAAyE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACzE,MAAM,eAAe,sCACjB,wBAAwC,6BAA6B;GACrE;AAEG,MAAM,iBAAiB;;;;IAC5B,YACE,AAAO,MAAc,EACrB,AAAO,IAAY,EACnB,OAAe,EACf,AAAO,OAAa,CACpB;QACA,KAAK,CAAC,eALC,SAAA,aACA,OAAA,WAEA,UAAA;QAGP,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEA,eAAe,WACb,QAAgB,EAChB,UAAuB,CAAC,CAAC;IAEzB,MAAM,SAAS,sCAAgC,0BAAkC;IAEjF,wCAAa;QACX,MAAM,IAAI,SAAS,KAAK,gBAAgB;IAC1C;IAEA,0EAA0E;IAC1E,MAAM,MAAM,sCACR,wBAAU,6BAA6B;OACvC,GAAG,eAAe,UAAU,EAAG,+BAA+B;IAElE,MAAM,WAAW,MAAM,MAAM,KAAK;QAChC,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,aAAa;YACb,GAAG,QAAQ,OAAO;QACpB;IACF;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAElD,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,SACR,SAAS,MAAM,EACf,KAAK,IAAI,IAAI,iBACb,KAAK,KAAK,IAAI,KAAK,OAAO,IAAI,CAAC,2BAA2B,EAAE,SAAS,MAAM,EAAE,EAC7E,KAAK,OAAO;IAEhB;IAEA,OAAO;AACT;AAGO,MAAM,eAAe;IAC1B,MAAM,IAAM,WAAmD;IAC/D,KAAK,CAAC,KAAe,WAAgD,CAAC,kBAAkB,EAAE,IAAI;IAC9F,QAAQ,CAAC,OAUH,WAAgD,qBAAqB;YACzE,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACA,QAAQ,CAAC,IAAY,OAAuB,WAAgD,CAAC,kBAAkB,EAAE,IAAI,EAAE;YACrH,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACA,QAAQ,CAAC,KAAe,WAAiC,CAAC,kBAAkB,EAAE,IAAI,EAAE;YAClF,QAAQ;QACV;IACA,UAAU,CAAC,KAAe,WAAoE,CAAC,kBAAkB,EAAE,GAAG,MAAM,CAAC;AAC/H;AAGO,MAAM,aAAa;IACxB,MAAM,IAAM,WAAiD;IAC7D,QAAQ,CAAC,OACP,WAA6D,qBAAqB;YAChF,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF,QAAQ,CAAC,KAAe,WAAiC,CAAC,kBAAkB,EAAE,IAAI,EAAE;YAClF,QAAQ;QACV;AACF;AAGO,MAAM,eAAe;IAC1B,sBAAsB,CAAC,YAAoB;QAMzC,MAAM,eAAe,IAAI;QACzB,IAAI,QAAQ,WAAW,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS;QACrE,IAAI,QAAQ,SAAS,aAAa,GAAG,CAAC,WAAW,OAAO,OAAO;QAC/D,IAAI,QAAQ,aAAa,aAAa,GAAG,CAAC,eAAe,OAAO,WAAW;QAC3E,IAAI,QAAQ,gBAAgB,aAAa,GAAG,CAAC,kBAAkB;QAC/D,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAAgB,CAAC,gBAAgB,EAAE,WAAW,UAAU,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IAC7F;AACF;AAGO,MAAM,aAAa;IACxB,UAAU,CAAC;QAMT,MAAM,eAAe,IAAI;QACzB,IAAI,QAAQ,WAAW,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS;QACrE,IAAI,QAAQ,SAAS,aAAa,GAAG,CAAC,WAAW,OAAO,OAAO;QAC/D,IAAI,QAAQ,YAAY,aAAa,GAAG,CAAC,cAAc,OAAO,UAAU;QACxE,IAAI,QAAQ,YAAY,aAAa,GAAG,CAAC,cAAc,OAAO,UAAU;QACxE,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAAgB,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IAC3E;IACA,WAAW,CAAC;QAMV,MAAM,eAAe,IAAI;QACzB,IAAI,QAAQ,WAAW,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS;QACrE,IAAI,QAAQ,SAAS,aAAa,GAAG,CAAC,WAAW,OAAO,OAAO;QAC/D,IAAI,QAAQ,YAAY,aAAa,GAAG,CAAC,cAAc,OAAO,UAAU;QACxE,IAAI,QAAQ,aAAa,aAAa,GAAG,CAAC,eAAe,OAAO,WAAW,CAAC,IAAI,CAAC;QACjF,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAAgB,CAAC,sBAAsB,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IAC5E;IACA,YAAY,CAAC;QAMX,MAAM,eAAe,IAAI;QACzB,IAAI,QAAQ,WAAW,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS;QACrE,IAAI,QAAQ,SAAS,aAAa,GAAG,CAAC,WAAW,OAAO,OAAO;QAC/D,IAAI,QAAQ,YAAY,aAAa,GAAG,CAAC,cAAc,OAAO,UAAU;QACxE,IAAI,QAAQ,YAAY,aAAa,GAAG,CAAC,cAAc,OAAO,UAAU;QACxE,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAAgB,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IAC7E;AACF;AAGO,MAAM,gBAAgB;IAC3B,YAAY,CAAC;QAQX,MAAM,eAAe,IAAI;QACzB,IAAI,QAAQ,MAAM,aAAa,GAAG,CAAC,QAAQ,OAAO,IAAI;QACtD,IAAI,QAAQ,WAAW,aAAa,GAAG,CAAC,aAAa,OAAO,SAAS,CAAC,QAAQ;QAC9E,IAAI,QAAQ,SAAS,aAAa,GAAG,CAAC,WAAW,OAAO,OAAO,CAAC,QAAQ;QACxE,IAAI,QAAQ,MAAM,aAAa,GAAG,CAAC,QAAQ,KAAK,SAAS,CAAC,OAAO,IAAI;QACrE,IAAI,QAAQ,QAAQ,aAAa,GAAG,CAAC,UAAU;QAC/C,IAAI,QAAQ,OAAO,aAAa,GAAG,CAAC,SAAS,OAAO,KAAK,CAAC,QAAQ;QAClE,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAAgB,CAAC,0BAA0B,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IAChF;IACA,WAAW,CAAC;QACV,MAAM,eAAe,IAAI;QACzB,IAAI,iBAAiB,OAAO,aAAa,GAAG,CAAC,gBAAgB;QAC7D,OAAO,WAAgB,CAAC,0BAA0B,EAAE,aAAa,QAAQ,IAAI;IAC/E;IACA,iBAAiB,CAAC,OASZ,WAAgB,6BAA6B;YACjD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACA,iBAAiB,CAAC,SAAmB,WAAiC,CAAC,0BAA0B,EAAE,QAAQ,EAAE;YAC3G,QAAQ;QACV;AACF;AAGO,MAAM,cAAc;IACzB,MAAM,CAAC;QACL,MAAM,eAAe,IAAI;QACzB,IAAI,YAAY,aAAa,GAAG,CAAC,cAAc;QAC/C,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAA+C,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IACrG;IACA,QAAQ,CAAC,OAKH,WAAgB,oBAAoB;YACxC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACA,QAAQ,CAAC,IAAY,OAIf,WAAgB,CAAC,iBAAiB,EAAE,IAAI,EAAE;YAC9C,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACA,QAAQ,CAAC,KAAe,WAAiC,CAAC,iBAAiB,EAAE,IAAI,EAAE;YACjF,QAAQ;QACV;AACF;AAGO,MAAM,YAAY;IACvB,OAAO,IAAM,WAAiC;AAChD;AAGO,MAAM,WAAW;IACtB,YAAY,IAAM,WAKf;AACL;AAGO,MAAM,UAAU;IACrB,QAAQ,OAAO;QACb,MAAM,WAAW,MAAM,MAAM,uBAAuB;YAClD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,MAAM,SAAS,MAAM,SAAS,IAAI;QAClC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,SACR,SAAS,MAAM,EACf,OAAO,IAAI,IAAI,iBACf,OAAO,KAAK,IAAI,iBAChB,OAAO,OAAO;QAElB;QACA,OAAO;IAOT;AACF;AAGO,MAAM,WAAW;IACtB,0BAA0B;IAC1B,MAAM,IAAM,WAYT;IAEH,6BAA6B;IAC7B,SAAS,IAAM,WASZ;IAEH,iDAAiD;IACjD,SAAS,CAAC,SACR,WAMG,6BAA6B;YAC9B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC;IAEF,8CAA8C;IAC9C,qBAAqB,CAAC,SACpB,WAoBG,qCAAqC;YACtC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC;IAEF,uCAAuC;IACvC,eAAe,CAAC,iBAAyB,SACvC,WAKG,qCAAqC;YACtC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAiB;YAAO;QACjD;IAEF,4BAA4B;IAC5B,kBAAkB,CAAC,WACjB,WAiBG,CAAC,iCAAiC,EAAE,WAAW,CAAC,UAAU,EAAE,UAAU,GAAG,IAAI;AACpF;AA4DO,MAAM,cAAc;IACzB,+BAA+B;IAC/B,MAAM,CAAC;QAML,MAAM,eAAe,IAAI;QACzB,IAAI,QAAQ,OAAO,aAAa,GAAG,CAAC,SAAS,OAAO,KAAK;QACzD,IAAI,QAAQ,OAAO,aAAa,GAAG,CAAC,SAAS,OAAO,KAAK,CAAC,QAAQ;QAClE,IAAI,QAAQ,gBAAgB,OAAO,aAAa,GAAG,CAAC,eAAe;QACnE,IAAI,QAAQ,aAAa,aAAa,GAAG,CAAC,eAAe;QACzD,MAAM,QAAQ,aAAa,QAAQ;QACnC,OAAO,WAA6B,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,GAAG,IAAI;IACpF;IAEA,yBAAyB;IACzB,SAAS,CAAC,QACR,WACE,qBACA;YACE,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAM;QAC/B;AAEN;AA4BO,MAAM,gBAAgB;IAC3B,sCAAsC;IACtC,WAAW,IAAM,WAA+B;IAEhD,0BAA0B;IAC1B,cAAc,CAAC,SACb,WAAkE,2BAA2B;YAC3F,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC;IAEF,+BAA+B;IAC/B,SAAS,IACP,WAAkD,2BAA2B;YAC3E,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE,SAAS;YAAK;QACvC;AACJ"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/meaux/CascadeProjects/my%20second%20project/CascadeProjects/windsurf-project/nexflow-deploy/src/app/dashboard/cron-jobs/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { cronJobsApi, CronJobSummary, CronJobRun, CronJobsResponse, ApiError } from '@/lib/api-client';\r\nimport {\r\n  Clock,\r\n  Loader2,\r\n  AlertCircle,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  XCircle,\r\n  RefreshCw,\r\n  Play,\r\n  Timer,\r\n  Activity,\r\n  Zap,\r\n  Calendar,\r\n  ChevronDown,\r\n  ChevronUp,\r\n} from 'lucide-react';\r\n\r\ntype JobStatus = 'pending' | 'running' | 'completed' | 'failed' | 'timeout';\r\n\r\nexport default function CronJobsPage() {\r\n  const [data, setData] = useState<CronJobsResponse | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [expandedJob, setExpandedJob] = useState<string | null>(null);\r\n  const [triggeringJob, setTriggeringJob] = useState<string | null>(null);\r\n  const [lastRefresh, setLastRefresh] = useState<Date | null>(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n\r\n  const loadData = useCallback(async () => {\r\n    try {\r\n      setError(null);\r\n      const response = await cronJobsApi.list({ includeRuns: true, limit: 100 });\r\n      setData(response);\r\n      setLastRefresh(new Date());\r\n    } catch (err) {\r\n      if (err instanceof ApiError) {\r\n        const errorMsg = err.status === 401\r\n          ? 'Please log in to view scheduled jobs.'\r\n          : err.status === 403\r\n          ? 'Access denied. Admin access may be required.'\r\n          : `${err.message} (Status: ${err.status})`;\r\n        setError(errorMsg);\r\n      } else if (err instanceof Error) {\r\n        setError(`Failed to load data: ${err.message}`);\r\n      } else {\r\n        setError('Failed to load data: Unknown error');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  // Auto-refresh every 30 seconds\r\n  useEffect(() => {\r\n    if (!autoRefresh) return;\r\n    const interval = setInterval(loadData, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [autoRefresh, loadData]);\r\n\r\n  const handleTriggerJob = async (jobId: string) => {\r\n    setTriggeringJob(jobId);\r\n    try {\r\n      await cronJobsApi.trigger(jobId);\r\n      // Wait a moment then refresh to see the new run\r\n      setTimeout(loadData, 2000);\r\n    } catch (err) {\r\n      if (err instanceof ApiError) {\r\n        alert(`Failed to trigger job: ${err.message}`);\r\n      }\r\n    } finally {\r\n      setTriggeringJob(null);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: JobStatus) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return 'text-green-400 bg-green-900/20 border-green-700';\r\n      case 'running':\r\n        return 'text-blue-400 bg-blue-900/20 border-blue-700';\r\n      case 'pending':\r\n        return 'text-yellow-400 bg-yellow-900/20 border-yellow-700';\r\n      case 'failed':\r\n      case 'timeout':\r\n        return 'text-red-400 bg-red-900/20 border-red-700';\r\n      default:\r\n        return 'text-gray-400 bg-gray-900/20 border-gray-700';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: JobStatus) => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return <CheckCircle className=\"w-4 h-4\" />;\r\n      case 'running':\r\n        return <Loader2 className=\"w-4 h-4 animate-spin\" />;\r\n      case 'pending':\r\n        return <Clock className=\"w-4 h-4\" />;\r\n      case 'failed':\r\n      case 'timeout':\r\n        return <XCircle className=\"w-4 h-4\" />;\r\n      default:\r\n        return <Activity className=\"w-4 h-4\" />;\r\n    }\r\n  };\r\n\r\n  const formatDuration = (ms: number | null) => {\r\n    if (ms === null || ms === undefined) return '-';\r\n    if (ms < 1000) return `${ms}ms`;\r\n    if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\r\n    return `${Math.round(ms / 60000)}m ${Math.round((ms % 60000) / 1000)}s`;\r\n  };\r\n\r\n  const formatTime = (isoString: string | null) => {\r\n    if (!isoString) return '-';\r\n    const date = new Date(isoString);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  const formatTimeAgo = (isoString: string | null) => {\r\n    if (!isoString) return 'Never';\r\n    const date = new Date(isoString);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMin = Math.floor(diffMs / 60000);\r\n    const diffHour = Math.floor(diffMin / 60);\r\n    const diffDay = Math.floor(diffHour / 24);\r\n\r\n    if (diffMin < 1) return 'Just now';\r\n    if (diffMin < 60) return `${diffMin}m ago`;\r\n    if (diffHour < 24) return `${diffHour}h ago`;\r\n    return `${diffDay}d ago`;\r\n  };\r\n\r\n  const getJobHealth = (job: CronJobSummary) => {\r\n    if (job.consecutiveFailures >= 3) return 'critical';\r\n    if (job.consecutiveFailures > 0) return 'warning';\r\n    if (!job.enabled) return 'disabled';\r\n    if (job.stats.successRate === null) return 'unknown';\r\n    if (job.stats.successRate >= 0.95) return 'healthy';\r\n    if (job.stats.successRate >= 0.8) return 'warning';\r\n    return 'critical';\r\n  };\r\n\r\n  const getHealthColor = (health: string) => {\r\n    switch (health) {\r\n      case 'healthy':\r\n        return 'text-green-400';\r\n      case 'warning':\r\n        return 'text-yellow-400';\r\n      case 'critical':\r\n        return 'text-red-400';\r\n      case 'disabled':\r\n        return 'text-gray-500';\r\n      default:\r\n        return 'text-gray-400';\r\n    }\r\n  };\r\n\r\n  if (loading && !data) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin mx-auto text-lime-400\" />\r\n        <p className=\"mt-4 text-gray-400\">Loading scheduled jobs...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold flex items-center gap-3\">\r\n            <Calendar className=\"w-8 h-8 text-lime-400\" />\r\n            Scheduled Jobs\r\n          </h1>\r\n          <p className=\"text-gray-400 mt-1\">\r\n            Monitor and manage cron jobs across the system\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-4\">\r\n          <label className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n              className=\"rounded border-gray-600 bg-gray-800 text-lime-400 focus:ring-lime-400\"\r\n            />\r\n            Auto-refresh\r\n          </label>\r\n          <button\r\n            onClick={loadData}\r\n            disabled={loading}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50\"\r\n          >\r\n            <RefreshCw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Last refresh */}\r\n      {lastRefresh && (\r\n        <p className=\"text-sm text-gray-500\">\r\n          Last updated: {lastRefresh.toLocaleTimeString()}\r\n        </p>\r\n      )}\r\n\r\n      {/* Error */}\r\n      {error && (\r\n        <div className=\"p-4 bg-red-900/20 border border-red-800 rounded-lg flex items-center gap-3\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-400 flex-shrink-0\" />\r\n          <span className=\"text-red-400\">{error}</span>\r\n        </div>\r\n      )}\r\n\r\n      {data && (\r\n        <>\r\n          {/* Summary Cards */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-4\">\r\n              <div className=\"flex items-center gap-2 text-gray-400 text-sm mb-1\">\r\n                <Activity className=\"w-4 h-4\" />\r\n                Total Jobs\r\n              </div>\r\n              <p className=\"text-2xl font-bold\">{data.summary.totalJobs}</p>\r\n            </div>\r\n            <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-4\">\r\n              <div className=\"flex items-center gap-2 text-gray-400 text-sm mb-1\">\r\n                <Zap className=\"w-4 h-4 text-green-400\" />\r\n                Active\r\n              </div>\r\n              <p className=\"text-2xl font-bold text-green-400\">{data.summary.activeJobs}</p>\r\n            </div>\r\n            <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-4\">\r\n              <div className=\"flex items-center gap-2 text-gray-400 text-sm mb-1\">\r\n                <Loader2 className=\"w-4 h-4 text-blue-400\" />\r\n                Running Now\r\n              </div>\r\n              <p className=\"text-2xl font-bold text-blue-400\">{data.summary.runningJobs}</p>\r\n            </div>\r\n            <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-4\">\r\n              <div className=\"flex items-center gap-2 text-gray-400 text-sm mb-1\">\r\n                <AlertTriangle className=\"w-4 h-4 text-red-400\" />\r\n                Failing\r\n              </div>\r\n              <p className=\"text-2xl font-bold text-red-400\">{data.summary.recentlyFailed}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Failing Jobs Alert */}\r\n          {data.summary.recentlyFailed > 0 && (\r\n            <div className=\"bg-red-900/20 border border-red-800 rounded-lg p-4\">\r\n              <h3 className=\"text-lg font-semibold text-red-400 flex items-center gap-2 mb-3\">\r\n                <AlertTriangle className=\"w-5 h-5\" />\r\n                Jobs Requiring Attention\r\n              </h3>\r\n              <div className=\"space-y-2\">\r\n                {data.jobs\r\n                  .filter((j) => j.consecutiveFailures > 0)\r\n                  .map((job) => (\r\n                    <div\r\n                      key={job.jobId}\r\n                      className=\"flex items-center justify-between bg-gray-900/50 rounded-lg p-3\"\r\n                    >\r\n                      <div>\r\n                        <span className=\"font-medium\">{job.displayName}</span>\r\n                        <span className=\"text-gray-400 ml-2\">({job.jobId})</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-4\">\r\n                        <span className=\"text-red-400\">\r\n                          {job.consecutiveFailures} consecutive failures\r\n                        </span>\r\n                        {job.lastFailureAt && (\r\n                          <span className=\"text-gray-500 text-sm\">\r\n                            Last failed: {formatTimeAgo(job.lastFailureAt)}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Jobs Table */}\r\n          <div className=\"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden\">\r\n            <div className=\"px-6 py-4 border-b border-gray-800\">\r\n              <h2 className=\"text-lg font-semibold\">All Scheduled Jobs</h2>\r\n            </div>\r\n            <div className=\"divide-y divide-gray-800\">\r\n              {data.jobs.length === 0 ? (\r\n                <div className=\"px-6 py-12 text-center text-gray-400\">\r\n                  <Clock className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\r\n                  <p>No scheduled jobs configured</p>\r\n                </div>\r\n              ) : (\r\n                data.jobs.map((job) => {\r\n                  const health = getJobHealth(job);\r\n                  const isExpanded = expandedJob === job.jobId;\r\n                  const jobRuns = data.recentRuns?.filter((r) => r.jobId === job.jobId) || [];\r\n\r\n                  return (\r\n                    <div key={job.jobId} className=\"bg-gray-900\">\r\n                      {/* Job Row */}\r\n                      <div\r\n                        className=\"px-6 py-4 hover:bg-gray-800/50 cursor-pointer transition-colors\"\r\n                        onClick={() => setExpandedJob(isExpanded ? null : job.jobId)}\r\n                      >\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center gap-4\">\r\n                            <div className={`${getHealthColor(health)}`}>\r\n                              {health === 'critical' ? (\r\n                                <XCircle className=\"w-5 h-5\" />\r\n                              ) : health === 'warning' ? (\r\n                                <AlertTriangle className=\"w-5 h-5\" />\r\n                              ) : health === 'disabled' ? (\r\n                                <Clock className=\"w-5 h-5 opacity-50\" />\r\n                              ) : (\r\n                                <CheckCircle className=\"w-5 h-5\" />\r\n                              )}\r\n                            </div>\r\n                            <div>\r\n                              <h3 className=\"font-medium flex items-center gap-2\">\r\n                                {job.displayName}\r\n                                {!job.enabled && (\r\n                                  <span className=\"text-xs bg-gray-700 text-gray-400 px-2 py-0.5 rounded\">\r\n                                    Disabled\r\n                                  </span>\r\n                                )}\r\n                              </h3>\r\n                              <p className=\"text-sm text-gray-400\">\r\n                                {job.description || job.jobId}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"flex items-center gap-6\">\r\n                            {/* Stats */}\r\n                            <div className=\"hidden md:flex items-center gap-6 text-sm\">\r\n                              <div className=\"text-center\">\r\n                                <p className=\"text-gray-500\">Success Rate</p>\r\n                                <p className={`font-medium ${\r\n                                  job.stats.successRate === null\r\n                                    ? 'text-gray-400'\r\n                                    : job.stats.successRate >= 0.95\r\n                                    ? 'text-green-400'\r\n                                    : job.stats.successRate >= 0.8\r\n                                    ? 'text-yellow-400'\r\n                                    : 'text-red-400'\r\n                                }`}>\r\n                                  {job.stats.successRate !== null\r\n                                    ? `${(job.stats.successRate * 100).toFixed(0)}%`\r\n                                    : '-'}\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"text-center\">\r\n                                <p className=\"text-gray-500\">Avg Duration</p>\r\n                                <p className=\"font-medium\">{formatDuration(job.stats.avgDurationMs)}</p>\r\n                              </div>\r\n                              <div className=\"text-center\">\r\n                                <p className=\"text-gray-500\">Last Run</p>\r\n                                <p className=\"font-medium\">\r\n                                  {job.lastRun ? formatTimeAgo(job.lastRun.startedAt) : 'Never'}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Last Run Status */}\r\n                            {job.lastRun && (\r\n                              <div\r\n                                className={`px-3 py-1 rounded-full text-xs flex items-center gap-1 border ${getStatusColor(\r\n                                  job.lastRun.status as JobStatus\r\n                                )}`}\r\n                              >\r\n                                {getStatusIcon(job.lastRun.status as JobStatus)}\r\n                                {job.lastRun.status}\r\n                              </div>\r\n                            )}\r\n\r\n                            {/* Trigger Button */}\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleTriggerJob(job.jobId);\r\n                              }}\r\n                              disabled={triggeringJob === job.jobId}\r\n                              className=\"flex items-center gap-1 px-3 py-1.5 bg-lime-600 hover:bg-lime-500 text-black text-sm font-medium rounded-lg transition-colors disabled:opacity-50\"\r\n                            >\r\n                              {triggeringJob === job.jobId ? (\r\n                                <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                              ) : (\r\n                                <Play className=\"w-4 h-4\" />\r\n                              )}\r\n                              Run\r\n                            </button>\r\n\r\n                            {/* Expand/Collapse */}\r\n                            {isExpanded ? (\r\n                              <ChevronUp className=\"w-5 h-5 text-gray-400\" />\r\n                            ) : (\r\n                              <ChevronDown className=\"w-5 h-5 text-gray-400\" />\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Expanded Details */}\r\n                      {isExpanded && (\r\n                        <div className=\"px-6 py-4 bg-gray-800/30 border-t border-gray-800\">\r\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            {/* Job Info */}\r\n                            <div>\r\n                              <h4 className=\"text-sm font-medium text-gray-400 mb-3\">\r\n                                Configuration\r\n                              </h4>\r\n                              <div className=\"space-y-2 text-sm\">\r\n                                <div className=\"flex justify-between\">\r\n                                  <span className=\"text-gray-500\">Schedule</span>\r\n                                  <code className=\"text-lime-400 bg-gray-800 px-2 py-0.5 rounded\">\r\n                                    {job.schedule || 'Not set'}\r\n                                  </code>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                  <span className=\"text-gray-500\">Timeout</span>\r\n                                  <span>{formatDuration(job.timeoutMs)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                  <span className=\"text-gray-500\">Max Retries</span>\r\n                                  <span>{job.maxRetries}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                  <span className=\"text-gray-500\">Alert on Failure</span>\r\n                                  <span>{job.alertOnFailure ? 'Yes' : 'No'}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                  <span className=\"text-gray-500\">Last Success</span>\r\n                                  <span>{formatTimeAgo(job.lastSuccessAt)}</span>\r\n                                </div>\r\n                                <div className=\"flex justify-between\">\r\n                                  <span className=\"text-gray-500\">Last Failure</span>\r\n                                  <span className={job.lastFailureAt ? 'text-red-400' : ''}>\r\n                                    {formatTimeAgo(job.lastFailureAt)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n\r\n                            {/* Recent Runs */}\r\n                            <div>\r\n                              <h4 className=\"text-sm font-medium text-gray-400 mb-3\">\r\n                                Recent Runs ({jobRuns.length})\r\n                              </h4>\r\n                              {jobRuns.length === 0 ? (\r\n                                <p className=\"text-sm text-gray-500\">No runs recorded yet</p>\r\n                              ) : (\r\n                                <div className=\"space-y-2 max-h-48 overflow-y-auto\">\r\n                                  {jobRuns.slice(0, 10).map((run) => (\r\n                                    <div\r\n                                      key={run.id}\r\n                                      className=\"flex items-center justify-between text-sm bg-gray-800/50 rounded p-2\"\r\n                                    >\r\n                                      <div className=\"flex items-center gap-2\">\r\n                                        <div\r\n                                          className={`flex items-center gap-1 ${getStatusColor(\r\n                                            run.status\r\n                                          )} px-2 py-0.5 rounded text-xs`}\r\n                                        >\r\n                                          {getStatusIcon(run.status)}\r\n                                          {run.status}\r\n                                        </div>\r\n                                        <span className=\"text-gray-500 text-xs\">\r\n                                          {run.triggerSource}\r\n                                        </span>\r\n                                      </div>\r\n                                      <div className=\"flex items-center gap-3\">\r\n                                        <span className=\"text-gray-400\">\r\n                                          {formatDuration(run.durationMs)}\r\n                                        </span>\r\n                                        <span className=\"text-gray-500 text-xs\">\r\n                                          {formatTimeAgo(run.startedAt)}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  ))}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Error Message */}\r\n                          {job.lastRun?.errorMessage && (\r\n                            <div className=\"mt-4 p-3 bg-red-900/20 border border-red-800 rounded text-sm\">\r\n                              <p className=\"text-red-400 font-medium mb-1\">Last Error:</p>\r\n                              <code className=\"text-red-300 text-xs break-all\">\r\n                                {job.lastRun.errorMessage}\r\n                              </code>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Recent Runs Timeline */}\r\n          {data.recentRuns && data.recentRuns.length > 0 && (\r\n            <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-6\">\r\n              <h2 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n                <Timer className=\"w-5 h-5\" />\r\n                Recent Activity (Last 50 Runs)\r\n              </h2>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-gray-800\">\r\n                      <th className=\"text-left py-2 text-gray-400\">Job</th>\r\n                      <th className=\"text-left py-2 text-gray-400\">Status</th>\r\n                      <th className=\"text-left py-2 text-gray-400\">Trigger</th>\r\n                      <th className=\"text-left py-2 text-gray-400\">Duration</th>\r\n                      <th className=\"text-left py-2 text-gray-400\">Started</th>\r\n                      <th className=\"text-left py-2 text-gray-400\">Error</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {data.recentRuns.slice(0, 20).map((run) => {\r\n                      const job = data.jobs.find((j) => j.jobId === run.jobId);\r\n                      return (\r\n                        <tr key={run.id} className=\"border-b border-gray-800\">\r\n                          <td className=\"py-2\">\r\n                            <span className=\"font-medium\">{job?.displayName || run.jobId}</span>\r\n                          </td>\r\n                          <td className=\"py-2\">\r\n                            <span\r\n                              className={`flex items-center gap-1 w-fit px-2 py-0.5 rounded text-xs ${getStatusColor(\r\n                                run.status\r\n                              )}`}\r\n                            >\r\n                              {getStatusIcon(run.status)}\r\n                              {run.status}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"py-2 text-gray-400\">{run.triggerSource}</td>\r\n                          <td className=\"py-2\">{formatDuration(run.durationMs)}</td>\r\n                          <td className=\"py-2 text-gray-400\">{formatTime(run.startedAt)}</td>\r\n                          <td className=\"py-2\">\r\n                            {run.errorMessage ? (\r\n                              <span className=\"text-red-400 truncate max-w-xs block\" title={run.errorMessage}>\r\n                                {run.errorMessage.substring(0, 50)}...\r\n                              </span>\r\n                            ) : (\r\n                              <span className=\"text-gray-500\">-</span>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}